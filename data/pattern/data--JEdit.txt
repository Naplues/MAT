"/*			Implement String += value;			According to the JLS, value may be anything.			In BeanShell, we'll disallow VOID (undefined) values.			(or should we map them to the empty string?)		*/"
/* this should be before dockables are initialized */
// is this right?
// should we do this for both cases above?
// need to loosen this to any throwable... do we need to handle // that in interpreter somewhere?  check first...
// fucking GTK look and feel
"/*		Note: this implementation is temporary. We currently keep a flat		namespace of the base name of classes.  i.e. BeanShell cannot be in the		process of defining two classes in different packages with the same		base name.  To remove this limitation requires that we work through		namespace imports in an analogous (or using the same path) as regular		class import resolution.  This workaround should handle most cases 		so we'll try it for now.	*/"
// copy and paste from bsh/classpath/ClassManagerImpl.java...
// I wish I could make this "friendly" to only NameSpace
// undocumented hack to allow browser actions to work. // XXX - clean up in 4.3
// Look for a default invoke() handler method in the namespace // Note: this code duplicates that in NameSpace getCommand() // is that ok?
// This should be per instance
// Can we use the proxy mechanism to cast a bsh.This to  // the correct interface?
// redundant with constructor
"/*		Issues to resolve here...		1) In which classloader should we define the class?		if there is a BshClassLoader should we define it there?		2) should we use reflection to set it in a non-bsh classloader		if there is one or should we always create a bsh classloader		(and expose its defineClass)?	*/"
// could refactor these a bit
"/*	Note: This class essentially just delegates most of its methods to its	parent.  The setVariable() indirection is very small.  We could probably	fold this functionality back into the base NameSpace as a special case.	But this has changed a few times so I'd like to leave this abstraction for	now.*/"
// simplified these settings a little...
"/*		Should check for strict java here and use isJavaAssignable() instead	*/"
// workaround for Swing rendering labels starting // with <html> using the HTML engine
// Look for a default invoke() handler method in the namespace // Note: this code duplicates that in This.java... should it? // Call on 'This' can never be a command
// this method is a nightmare
// ConsoleInterface // The interpreter reflexively implements the console interface that it  // uses.  Should clean this up by using an inner class to implement the // console for us.
// Case-insensitive fs workaround
"/*			Wrap nulls.			This is a bit of a cludge to address a deficiency in the class			generator whereby it does not wrap nulls on method delegate.  See			Class Generator.java.  If we fix that then we can remove this.			(just have to generate the code there.)		*/"
// switch eats a multi-level break here? // not empty statement
// Check for field on object  // Note: could eliminate throwing the exception somehow
// XXXX re-evaluate this // can getSuper work by itself now? // If we're a class instance and the parent is also a class instance // then super means our parent.
"/*		I wish protected access were limited to children and not also 		package scope... I want this to be a singleton implemented by various		children.  	*/"
// Imported full name wasn't found as an absolute class // If it is compound, try to resolve to an inner class.   // (maybe this should happen in the BshClassManager?)
"/*	Can't this be combined with run() ?	run seems to have stuff in it for interactive vs. non-interactive...	compare them side by side and see what they do differently, aside from the	exception handling.	*/"
// Null value is just a declaration // Note: we might want to keep any existing value here instead of reset
// Can this be factored out...?   // Should be be adding the L...; here instead?
"/* 							Catch the mismatch and continue to try the next							Note: this is innefficient, should have an 							isAssignableFrom() that doesn't throw 						*/"
// should use try/finally here to pop ns
"/*			Note: this could be made clearer by adding an inner class for the			cases and an object context for the child traversal.		*/"
// hack... sticking to first interpreter that resolves this // see comments on type instance variable
// Note: incorrect here - we are using the hack in bsh class // manager that allows lookup by base name.  We need to eliminate // this limitation by working through imports.  See notes in class // manager.
"/* 		This is the namespace in which the method is set.		It is a back-reference for the node, which needs to execute under this 		namespace.  It is not necessary to declare this transient, because 		we can only be saved as part of our namespace anyway... (currently).	*/"
// Replace this is Cocoa API calls later
// Scripting classes currently requires accessibility // This can be eliminated with a bit more work.
// This could be static
"/*	Thanks to Slava Pestov (of jEdit fame) for import caching enhancements.	Note: This class has gotten too big.  It should be broken down a bit.*/"
"/**    * Register an attribute declaration for later retrieval.    * Format:    * - String type    * - String default value    * - int value type    * *TODO: do something with attribute types.    */"
"/*				TODO:					to get cast and boxing working e.g.					e.g. Byte [] ia = { 1, 2 }					If the baseType is a wrapper type then we need to get the 					primitive TYPE class for the base type here in order for 					the cast to allow it... Then boxing will happen naturally in					the Array.set().					e.g. Integer [] ia = { 1, 2 }				*/"
"/*		Note: We will ll move this behavior out to a subclass of 		NameSpace, but we'll start here.	*/"
// This is a particularly nasty bit // of code, that checks for a parameter // entity reference but peeks ahead to // catch the '%' in parameter entity // declarations.
// Should cache this subject to classloader change message // Evaluation of the formal parameter simply resolves its // type via the specified namespace.. it doesn't modify the // namespace.
"/*	Notes:	It would not be hard to eliminate the use of org.objectweb.asm.Type from	this class, making the distribution a tiny bit smaller.*/"
// stupid: caret will automatically be incremented
/* Spacing workaround */
// I don't know of any other way to fix this, since invoking this // command from a menu results in the focus owner being the menu // until the menu goes away.
// a little hack for reverse replace and find
// Static methods that operate on compound ('.' separated) names // I guess we could move these to StringUtil someday
"/*	Note: which of these things should be checked at parse time vs. run time?*/"
// this part sucks
// Windows bug workaround in case a YES/NO confirm // was shown
// clear name resolvers... don't know if this is necessary.
"/* this is stupid and misleading.					 * but 'path' is not used anywhere except					 * the above line, and if this is done					 * after the 'continue', then we will					 * either hang, or be forced to duplicate					 * it inside the buffer == null, or add					 * a 'finally' clause. you decide which one's					 * worse. */"
// I'm too tired to think of a better way // to handle this right now.
// hacked BufferIORequest to send VFSUpdates in case // two stage save is off now...
// some other primitive // should avoid calling methods on primitive, as we do // in Name (can't treat primitive like an object message) // but the hole is useful right now.
// Change the parent (which was the class static) to the class instance // We really need to check if we're a static inner class here first... // but for some reason Java won't show the static modifier on our // fake inner classes...  could generate a flag field.
// this is where checked exceptions piss me off. this method only uses // a StringReader which can never throw an exception...
// If any subexpressions didn't terminate, they don't count // TODO check if this code ever gets hit
// Parse pattern into tokens.  Does anyone know if it's more efficient // to use char[] than a String.charAt()?  I'm assuming so.
"/*		Note: object is only used here for precondition... get rid of it?	*/"
// Why both of these?
// Cut off from parent, we must have our own class manager. // Can't do this in the run() command (needs to resolve stuff) // Should we do it by default when we create a namespace will no // parent of class manager?
"/*		Note: the bsh command code should probably not be here...  we need to		scope it by the namespace that imported the command... so it probably		needs to be integrated into NameSpace.	*/"
// This could be smarter...
// It was explicitly imported, but we don't know what it is. // should we throw an error here??
"/*		Note: we need a form of eval that passes the callstack through...	*/"
"/* 		Primary interpreter set and get variable methods		Note: These are squeltching errors... should they?	*/"
// Workaround for JDK bug 4071281, where system.in.available()  // returns too large a value. This bug has been fixed in JDK 1.2.
"/*				Somewhat of a hack.  If the special fields are visible (we're				operating relative to a 'this' type already) dissallow further				.this references to prevent user from skipping to things like				super.this.caller			*/"
// Should clean this up to a single return statement
"/*	Implementation notes:	Note: we may need some synchronization in here	Note on version dependency:  This base class is JDK 1.1 compatible,	however we are forced to use weak references in the full featured	implementation (the optional bsh.classpath package) to accomodate all of	the fleeting namespace listeners as they fall out of scope.  (NameSpaces	must be informed if the class space changes so that they can un-cache	names).  	<p>	Perhaps a simpler idea would be to have entities that reference cached	types always perform a light weight check with a counter / reference	value and use that to detect changes in the namespace.  This puts the 	burden on the consumer to check at appropriate times, but could eliminate	the need for the listener system in many places and the necessity of weak 	references in this package.	<p>*/"
"/*		Note: this impor pattern is becoming common... could factor it out into		an importedObject Vector class.	*/"
// not sure if we should really recurse here for explicitly imported // class in parent...  
// The following two boolean checks were tacked on. // This could probably be smoothed out.
"/*		Notes:		This is broken.  It finds public but less specific methods over		non-public but more specific ones.		findMostSpecficMethod() needs to be rewritten to eliminate 		findAccessibleMethod.  We should implement the findMostSpecificMethod 		that uses the publicOnly flag.  FindMostSpecificMethod should also		operate in two passes to give standard Java assignable matches priority		over extended bsh type matches.	*/"
//{{{ UnixWorkaround constructor
// drag and drop support // I'd just move the code to // JEditTextArea but it // depends on JDK 1.4 APIs
// next version: remove this
// compatibility kludge for jEdit 3.1 and earlier
// stupid scrollbar policy is an attempt to work around // bugs people have been seeing with IBM's JDK -- 7 Sep 2000
// this is a weird hack. // we don't want C+e a to insert 'a' in the // search bar if the search bar has focus...
// AHA! // this is probably the only way to fix this
// this is a dirty hack and it relies on the fact // that updates for parents are sent before updates // for the changed nodes themselves (if this was not // the case, the browser wouldn't be updated properly // on delete, etc). // // to avoid causing '> 1 request' errors, don't reload // directory if request already active
// we consume this to work around the bug // where A+TAB window switching activates // the menu bar on Windows.
"/* I guess translated events do not have the 'evt' field set		so consuming won't work. I don't think this is a problem as		nothing uses translation anyway */"
// this is a hack, and really needs to be done better.
// copy and paste from RESyntaxMatcher to make syntax package // independent of jEdit itself
// stupidity
// This doesn't seem very correct, but it fixes a problem // when setting the initial caret position for a buffer // (eg, from the recent file list)
// don't try this at home
"/* silly that we reference the vertical				   scroll bar here directly. we do this so				   that the horizontal scroll bar is flush				   with the vertical scroll bar */"
// XXX clean up this conditional
// Temporary hack to support inner classes  // If the obj is a non-static inner class then import the context... // This is not a sufficient emulation of inner classes. // Replace this later...
// workaround for Swing's annoying processing of // labels starting with <html>, which often breaks
// fucking GTK look and feel!
// hack so that 'select all' does not change current buffer
"/* if an occurence occurs at the		beginning of the selection, the		selection start will get moved.		this sucks, so we hack to avoid it. */"
"/* Silly bug workaround #8694. If you look at the above code,		 * note that we restore the saved caret position first, then		 * scroll to the saved location. However, the caret changing		 * can itself result in scrolling to a different location than		 * what was saved; and since moveCaretPosition() calls		 * updateBracketHighlight(), the bracket highlight's out of		 * bounds calculation will rely on a different set of physical		 * first/last lines than what we will end up with eventually.		 * Instead of confusing the user with status messages that		 * appear at random when switching buffers, we simply hide the		 * message altogether. */"
"/* this is a sloppy hack to fix bug				   ""[ 677902 ] hitting return after collapsed				   fold""				   the idea is that if we extend the range then				   the problem described in the bug happends, so				   if the insert is at the very end of the range				   we don't extend it, instead we push the				   insert into the next range, however for this				   to work properly we also have to mess with				   screen line counts. */"
// need this bullshit scroll bar policy for the preferred size // hack to work
// XXX if we keep the createClassManager in getClassManager then we can axe // this?
"/*	Note: This class is messy.  The method and field resolution need to be	rewritten.  Various methods in here catch NoSuchMethod or NoSuchField	exceptions during their searches.  These should be rewritten to avoid	having to catch the exceptions.  Method lookups are now cached at a high 	level so they are less important, however the logic is messy.*/"
// the sooner ppl move to the new api, the less we'll need // crap like this
// Nasty hardcoded values
/* XXX magic number */
/* Workaround for uncooperative Windows L&F */
// have to do this hack until VFSPath class is written
// stupid Swing
// none of the others are ever meant to be // removed. retarded, eh? this needs to be // fixed eventually, for plugins might // want to do weird stuff to jEdit's UI
// this is retarded. excuse me while I drool // and make stupid noises
// retarded GTK look and feel!
// should probably error
// there must be a better way of fixing this... // the problem is that this method can sometimes // be called as a result of a text area scroll // event, in which case the caret position has // not been updated yet.
// Perhaps here we would want to guard with // a property for parallel backups or not.
// this is such a bad way of doing it, but oh well...
// while this might be questionable, some // menus depend on properties
// Get available screens // O(n^3), this is nasty, but since we aren't dealling with // many items it should be fine
//{{{ Methods that really shouldn't be public...
//{{{ UnixWorkaround class
// Perhaps if Xerces wasn't slightly brain-damaged, we would // not need this
// moved to GUIUtilities as it makes no sense being here.
// Hack... need a more direct way of obtaining a view? // JEditTextArea.getView() method?
// REVIEW How do we resolve this discrepancy?!
// ugly workaround
//{{{ Windows work around
// hack since HelpViewer needs a URL...
// Why is object in the args?
// should implement getMinimumLength() -- any ideas?
// Move me to classpath/ClassManagerImpl???
// they never taught you this in undergrad computer science
// (should we cache info in not a class case too?)
// wtf?
"/*	 *  XXX: hairy code that is basically just a functional(?) port of some	 *  other code i barely understood	 */"
"/*			First try for an accessible version of the exact match.			This first lookup seems redundant with below, but is apparently			needed.  This whole thing is messy.		*/"
// work around for broken FTP plugin!
// hack to move the spaces to the front
// This feels sloppy, especially for non-U.S. locales.
// hack to get fixed length 'length' field
// // We have to deal with assembly!!! // The programmer can be writing little 32 byte chunks for all // we know, and we must assemble complete records for writing. // REVIEW Maybe this should be in TarBuffer? Could that help to //        eliminate some of the buffer copying. //
// Hack done to fix bringing the window to the front. // At least on windows, Frame.toFront() doesn't cut it. // Remove the isWindows check if it's broken under other // OSes too.
"/*		This method should be rewritten to use getFields() and avoid catching		exceptions during the search.	*/"
// hack...
// This should probably be in Reflect.java
"/*		Notes: See notes on findMostSpecificMethod.		This method should be rolled into findMostSpecificMethod.	*/"
"/*		Note: is using SignatureKey in this way dangerous?  In the pathological		case a user could eat up memory caching every possible combination of		argument types to an untyped method.  Maybe we could be smarter about		it by ignoring the types of untyped parameter positions?  The method		resolver could return a set of ""hints"" for the signature key caching?		There is also the overhead of creating one of these for every method		dispatched.  What is the alternative?	*/"
// crusty workaround
"/* workaround for A+keys producing				 * garbage on Windows */"
"/* addToFavorites(), which is a static method		 * (for convinience) needs an instance of the		 * VFS to pass to VFSManager.sendVFSUpdate(),		 * hence this hack. */"
// Allow getThis() to work through BlockNameSpace to the method // namespace // XXX re-eval this... do we need it?
// these are used to eliminate code duplication. i don't normally use // the visitor or "template method" pattern, but this code was contributed // by Peter Cox and i don't feel like changing it around too much.
// fuck me dead
// stupid hack to handle referencing // a rule set that is defined later!
// JDK 1.4 workaround
// should the next two be public, maybe?
"/*		Note: this method and resolveExpectedJavaField should be rewritten		to invert this logic so that no exceptions need to be caught		unecessarily.  This is just a temporary impl.		@return the field or null if not found	*/"
"/*		Note: we need a singleton here so that things like 'this == this' work		(and probably a good idea for speed).		Caching a single instance here seems technically incorrect,		considering the declaringInterpreter could be different under some		circumstances.  (Case: a child interpreter running a source() / eval() 		command ).  However the effect is just that the main interpreter that		executes your script should be the one involved in call-backs from Java.		I do not know if there are corner cases where a child interpreter would		be the first to use a This reference in a namespace or if that would		even cause any problems if it did...  We could do some experiments		to find out... and if necessary we could cache on a per interpreter		basis if we had weak references...  We might also look at skipping 		over child interpreters and going to the parent for the declaring 		interpreter, so we'd be sure to get the top interpreter.	*/"
"/* 			Resolve relative to a class type			static field, inner class, ?		*/"
// some regexps (eg ^ by itself) have a length == 0, so we // implement this hack. if you don't understand what's going on // here, then go back to watching MTV
// Optimization - If classOfStaticMethod is set then we have already  // been here and determined that this is a static method invocation. // Note: maybe factor this out with path below... clean up.
// this will probably not get used // Object type
// Windows JDK workaround
// this listener priority thing is a bad hack...
"/* This doesn't look pretty and mode line should			 * probably be split up into seperate			 * components/strings			 */"
"/* this is stupid and misleading.				 * but 'path' is not used anywhere except				 * the above line, and if this is done				 * after the 'continue', then we will				 * either hang, or be forced to duplicate				 * it inside the buffer == null, or add				 * a 'finally' clause. you decide which one's				 * worse. */"
"/* workaround for hang if match was					 * zero-width. not sure if there is					 * a better way to handle this */"
"/* On Windows, paths of the form X: list the last *working		 * directory* on that drive. To list the root of the drive,		 * you must use X:\.		 *		 * However, the VFS browser and friends strip off trailing		 * path separators, for various reasons. So to work around		 * that, we add a '\' to drive letter paths on Windows.		 */"
// On Unix, set permissions of port file to rw-------, // so that on broken Unices which give everyone read // access to user home dirs, people can't see your // port file (and hence send arbitriary BeanShell code // your way. Nasty.)
// ??? this should only be called with // fully loaded action set
// broken Eclipse workaround! // 24 Febuary 2004
"/*		Notes:		This is broken.  It finds public but less specific methods over		non-public but more specific ones.		This method needs to be rewritten to eliminate findAccessibleMethod.		We should implement the findMostSpecificMethod that uses the publicOnly		flag.  FindMostSpecificMethod should also operate in two passes to give		standard Java assignable matches priority over extended bsh type		matches.	*/"
// XXX: This should not be hardcoded
// INTERVAL OPERATOR: //  {x} | {x,} | {x,y}  (RE_INTERVALS && RE_NO_BK_BRACES) //  \{x\} | \{x,\} | \{x,y\} (RE_INTERVALS && !RE_NO_BK_BRACES) // // OPEN QUESTION:  //  what is proper interpretation of '{' at start of string?
// XXX: does this really belong here?
// We do need to save every possible point, but the number of clone() // invocations here is really a killer for performance on non-stingy // repeat operators.  I'm open to suggestions...
"/*		Note: this should really just throw NoSuchFieldException... need		to change related signatures and code.	*/"
// Split the methods into constructors and regular method lists
// need to add static block here
"/** * An output stream that compresses into the BZip2 format (without the file * header chars) into another stream. TODO: Update to BZip2 1.0.1 * * @author <a href=""mailto:keiron@aftexsw.com"">Keiron Liddle</a> */"
"/**    * Parse the XML declaration.    * <pre>    * [25] XMLDecl ::= '&lt;?xml' VersionInfo EncodingDecl? SDDecl? S? '?&gt;'    * [26] VersionInfo ::= S 'version' Eq ('""1.0""' | ""'1.0'"")    * [33] SDDecl ::= S 'standalone' Eq ""'"" ('yes' | 'no') ""'""    *               | S 'standalone' Eq '""' (""yes"" | ""no"") '""'    * [78] EncodingDecl ::= S 'encoding' Eq QEncoding    * </pre>    * <p>([80] to [82] are also significant.)    * <p>(The <code>&lt;?xml</code> and whitespace have already been read.)    * <p>TODO: validate value of standalone.    * @see #parseTextDecl    * @see #checkEncoding    */"
// implement the recursion for getClassImpl()
// Need some format checking here
// Need to calculate this... just fudging here for now.
// TODO: Also check REG_ANCHORINDEX vs. anchor
// skip header bytes // maybe should check if they're valid or not?
"/*		Debug utils are static so that they are reachable by code that doesn't		necessarily have an interpreter reference (e.g. tracing in utils).		In the future we may want to allow debug/trace to be turned on on		a per interpreter basis, in which case we'll need to use the parent 		reference in some way to determine the scope of the command that 		turns it on or off.	*/"
"/**    * Parse an element-content model.    * [42] elements ::= (choice | seq) ('?' | '*' | '+')?    * [44] cps ::= S? %cp S?    * [45] choice ::= '(' S? %ctokplus (S? '|' S? %ctoks)* S? ')'    * [46] ctokplus ::= cps ('|' cps)+    * [47] ctoks ::= cps ('|' cps)*    * [48] seq ::= '(' S? %stoks (S? ',' S? %stoks)* S? ')'    * [49] stoks ::= cps (',' cps)*    * *NOTE: the opening '(' and S have already been read.    * *TODO: go over parameter entity boundaries more carefully.    */"
// this convention may change...
"/**    * Parse the attribute type.    * [54] AttType ::= StringType | TokenizedType | EnumeratedType    * [55] StringType ::= 'CDATA'    * [56] TokenizedType ::= 'ID' | 'IDREF' | 'IDREFS' | 'ENTITY' | 'ENTITIES' |    *                        'NMTOKEN' | 'NMTOKENS'    * [57] EnumeratedType ::= NotationType | Enumeration    * *TODO: validate the type!!    */"
//{{{ PluginManagerProgress constructor
//{{{ getRate() method
//{{{ writeMarkers() method
//{{{ Instance variables
//{{{ Private members
//{{{ addNotify() method
//{{{ foldLevelChanged() method
// this will result in a slight speed up, since we // don't need to read the DTD anyway, as AElfred is // non-validating
//{{{ startElement() method
//{{{ createTOC() method
//{{{ SelectionHandler class
// ensures that active view is saved last, // ie created last on next load, ie in front // on next load
//{{{ MemoryStatus class
//{{{ writeStringArray() method
//{{{ nextTip() method
/* Create the buttons */
//{{{ contentRemoved() method
//{{{ InstallButton class
//{{{ undo() method
// We can't do the backward scan if start == 0
// Create a new hashtable if necessary.
//{{{ getName() method
//{{{ LineElement constructor
//{{{ _save() method
"/*			Try super import if available			Note: we do this last to allow explicitly imported classes			and packages to take priority.  This method will also throw an			error indicating ambiguity if it exists...		*/"
//{{{ clear() method
/* --- Begin static members --- */
/*@bgen(jjtree) ReturnStatement */
/*arbitrary flag*/
// Leave buffer in a consistent state if // an error occurs
// the code above builds a 1-indexed suffix array, // but we shift it to be 0-indexed, ignoring the // original 0-th element
//{{{ _addKeyBinding() method
//{{{ load() method
// Setting a typed variable is always a local operation.
//{{{ bufferOpened() method
//{{{ _contentInserted() method
//{{{ isExpanded() method
//{{{ loadToolButton() method
//{{{ setLineEndOffset() method
// return type is a class
"/*     * index in zptr[] of original string after sorting.     */"
//{{{ updateModel() method
// used for the stringReplace and beanShell replace radio buttons, // so that the user can press tab to go from the find field to the // replace field in one go
//{{{ hashCode() method
// file begins with UTF-8-Y signature. // discard the signature, and read // the remainder as UTF-8.
//{{{ getFirstInvalidLineContext() method
// Use CONTENT_UNDECLARED to avoid overwriting // existing element declaration.
//{{{ invalidateScreenLineCounts() method
// Don't overstrike if we're on the end of // the line
//{{{ HideLibrariesButton class
//{{{ registerFoldHandler() method
//{{{ getLastView() method
//{{{ KeywordMap constructor
// Change import precedence if we are a class body/instance
//{{{ getFoldHandlers() method
//{{{ physDown() method // scroll down by physical line amount
// Default implementation... subclasses can extend this.
// null 'from' type corresponds to type of Primitive.NULL // assign to any object type
//{{{ unregisterFoldHandler() method
// statical import fields from the interface so that code inside // can refer to the fields directly (e.g. HEIGHT)
//{{{ setBounds() method
// Read the external identifiers.
//{{{ stop() method
// Point to return statement point if we had one. // (else it was implicit return? What's the case here?)
//{{{ getIcon() method
//{{{ DockingOptionPane constructor
//{{{ setExpansion() method
//{{{ createEditPane() method
//{{{ start() method
// repaint the gutter so that the border color // reflects the focus state
//{{{ invoke() method
//System.err.println("x overflow");
//{{{ Inner classes
/* Non word character selection behavior */
/*onlyStatic*/
"/*				Evaluate block in two passes: 				First do class declarations then do everything else.			*/"
//{{{ ActionHandler class
//{{{ AnimatedIcon constructor
// complete-word command needs a list of all non-alphanumeric // characters used in a keyword map.
// End constructors
/* Structure highlight */
/* --- End instance data --- */
// we're removing from // the first visible to after // the last visible
//{{{ Static initializer
// the vfs browser has what you might call // a design flaw, it doesn't update properly // unless the vfs update for a parent arrives // before any updates for the children. sorting // the list alphanumerically guarantees this.
//{{{ getExpansion() method
//{{{ StatusBarOptionPane constructor
//{{{ _createInputStream() method
// if 'temp' is true, hide search bar after user is done with it
"/* gutterBorderWidth = new JTextField(jEdit.getProperty(			""view.gutter.borderWidth""));		addComponent(jEdit.getProperty(""options.gutter.borderWidth""),			gutterBorderWidth); */"
//{{{ FoldHandler() constructor
// unwrap any primitives
// wrapper to primitive // Convert value to Primitive and check/cast it.
//{{{ getFoldModes() method
//{{{ invalidateSelectedLines() method
//{{{ ButtonLayout class
//{{{ StyleRenderer constructor
//{{{ getTableCellRendererComponent() method
/*onlystatic*/
//{{{ setValueAt() method
//{{{ ButtonCellRenderer class
//{{{ getAbbrevField() method
//{{{ foldHandlerChanged() method
//{{{ xToScreenLineOffset() method
//{{{ getField() method
//{{{ toggleOverwriteEnabled() method
//{{{ _runScript() method
//{{{ getSelection() method
// we expand those that are non-empty, and // remove those that are empty
// no field, try property acces
// Word boundary means input[index-1] was a word character // and input[index] is not, or input[index] is a word character // and input[index-1] was not //  In the string "one two three", these positions match: //  |o|n|e| |t|w|o| |t|h|r|e|e| //  ^     ^ ^     ^ ^         ^ // is current character a letter or digit? // is previous character a letter or digit?
// we need this public not protected
// start at 1 not 0 to skip Token.NULL
// not a field, try property access
// so an empty cd drive is not reported as a file
// redraw the whole table because a second shortcut // might have changed, too
// set the method parameters in the local namespace
// JEditTextArea.scrollTo() needs this to simplify // its code
// UNDONE When File lets us get the userName, use it!
//{{{ getBeforeCaretTextArea() method
// primitive to wrapper type
// how much an occurrence in the title is worth
//{{{ setRate() method
//{{{ getColumnName() method
//{{{ setIcon() method
//{{{ getCompletions() method
//{{{ updateEnabled() method
//{{{ ActionBar constructor
//{{{ ModeProperties class
//{{{ goToActionBar() method
// Bind to any port on localhost; accept 2 simultaneous // connection attempts before rejecting connections
//{{{ getFrames() method
//{{{ getCursor() method
// Only allow legal Java assignment unless we're a CAST operation
//{{{ complete() method
//{{{ removePosition() method
//{{{ CompletionPopup class
//{{{ getMenuName() method
//{{{ isHorizontalLayout() method
// alias
// because its preferred size can be quite wide, we // don't want it to make the browser way too big, // so set the preferred width to 0.
// Figure out what we're reading from.
//{{{ closeView() method
// only add the Plugins branch if there are OptionPanes
/* exit does editor event & save */
//{{{ getCode() method
// bsh.system
//{{{ EnhancedMenu constructor
//{{{ loadModeCatalog() method
"/*	Thanks to Sreenivasa Viswanadha for suggesting how to get rid of expensive	lookahead here.*/"
// if only one, clean, 'untitled' buffer is open, we // replace it
// if the caret is on a collapsed fold, collapse the // parent fold
// site properties are loaded as default properties, overwriting // jEdit's system properties
// maintain backwards compatibility
// this vfs has an extended attribute which is not // in the list. add it to the end with a ref count // of 1
//{{{ update() method
//{{{ Package-private members
// the first sub-fold. used by JEditTextArea.expandFold().
// copy of indexes // copy of sizes // instructions to be resized // future offset of a jump instruction
"/*				If equals() is not explicitly defined we must override the 				default implemented by the This object protocol for scripted				object.  To support XThis equals() must test for equality with 				the generated proxy object, not the scripted bsh This object;				otherwise callers from outside in Java will not see a the 				proxy object as equal to itself.			*/"
// set rename to false if > 1 file selected
//{{{ addCurrentToHistory() method
"/* EnhancedMenu has a reference to EditBusStub, but not the other	 * way around. So when the EnhancedMenu is being garbage collected	 * its finalize() method removes the EditBusStub from the edit bus. */"
//{{{ TipOfTheDay constructor
"/* FontRenderContext frc = new FontRenderContext(				null,false,false);			Rectangle2D bounds = getFont()				.getStringBounds(getTime(),frc);			Dimension dim = new Dimension((int)bounds.getWidth(),				(int)bounds.getHeight());			setPreferredSize(dim);			setMaximumSize(dim); */"
//{{{ ok() method
//{{{ getFoldLevel() method
// init the callstack.  
// bsh.cwd
// References may be allowed
//{{{ actionPerformed() method
// don't want it to show "0 bytes" for size, // etc.
// private members
// ends current block (with many new successors)
// evaluate finally block
/*BshClassManager*/
// Look for scripted class object
// applets can't see sys props
//{{{ goToPrevMarker() method
// bsh.interactive
// adds a new (u, insert) entry in the allIndexes and allSizes arrays
// still need to call the status check even if the option is // off, so that the write protection is updated if it changes // on disk
//{{{ cancel() method
// in case already initialized; un-initialize it
//{{{ changedUpdate() method
// Install an *instance* of this method in the namespace. // See notes in BshMethod 
// this helps a little
"/*         * Iterate up to N_ITERS times to improve the tables.         */"
//{{{ KeyHandler class
// // Constants for input. //
// try to sync up the console
// Don't generate private constructors
//{{{ setModel() method
//}}} //{{{ Symbol...
//{{{ DocumentHandler class
"/* //{{{ HelpIndex constructor	public HelpIndex(String fileListPath, String wordIndexPath)	{		this();	} //}}} */"
//{{{ ActionTextField class
// Read the value, normalizing whitespace // if it is not CDATA.
//{{{ insertUpdate() method
// older jEdit versions used a DOCTYPE of CATALOG, which // is incorrect since the DOCTYPE must be the name of the // root element, which is MODES.
//{{{ getWrappedDimension() method
// component that will parent any dialog boxes
//{{{ isToolsJarAvailable() method
//{{{ init() method
//{{{ getToolTipLocation() method
// never called
//{{{ CompleteWord constructor
//}}} //{{{ MARK_FOLLOWING
//{{{ CloseDialog constructor
// set non proxy hosts list
// UCS-4 must begin with "<!XML" // 0x00 0x00 0x3c 0x00: UCS-4, unusual (2143)
//{{{ Max line length
//{{{ SelectLineRange constructor
// jump offset // GOTO_W // newOffset now computed from start of GOTO_W
// bsh.help
//{{{ FontSelectorDialog constructor
// on a reload, the fold handler doesn't change, but // we still need to re-collapse folds. // don't do this on initial fold handler creation
//{{{ getDockable() method
//{{{ loadSystemProps() method
// show tip of the day
//{{{ loadUserProps() method
// bsh
// ONE-OR-MORE REPEAT OPERATOR //  + | \+ depending on RE_BK_PLUS_QM //  not available if RE_LIMITED_OPS is set
// end AbstractOptionPane implementation
// computes the stack size variation. In order not to recompute several // times this variation for the same Item, we use the intVal field of // this item to store this variation, once it has been computed. More // precisely this intVal field stores the sizes of the arguments and of // the return value corresponding to desc.
//{{{ ListHandler class
// Begin BeanShell Modification - made conditional on debug
//{{{ minimumLayoutSize() method
//{{{ closeBuffer() method
// if it's not in the class hash, and not marked as // non-existent, try loading it from the CLASSPATH
//{{{ getIconHeight() method
// ( (this.assemLen + numToWrite ) < this.recordBuf.length )
// create a copy of this dockable window and float it
"/*		Perform a cast, cast check, or assignability check.		@param toType the class type of the cast result, which may include			primitive types, e.g. Byte.TYPE.  toType may be null to indicate a			loose type assignment (which matches any fromType).		@param fromType is the class type of the value to be cast including			java primitive TYPE classes for primitives.			fromType should be null to indicate that the fromValue is or would			be Primitive.NULL		@param fromValue an Object or bsh.Primitive primitive value (including			Primitive.NULL or Primitive.VOID )		@param checkOnly If checkOnly is true then fromValue must be null.			FromType is checked for the cast to toType...			If checkOnly is false then fromValue must be non-null			(Primitive.NULL is ok) and the actual cast is performed.		@throws UtilEvalError on invalid assignment (when operation is			assignment ).		@throws UtilTargetError wrapping ClassCastException on cast error 			(when operation is cast)		@param operation is Types.CAST or Types.ASSIGNMENT		@see Primitive.getType()	*/"
// fixes the hang that can occur if we 'save as' to a new // filename which requires re-sorting
//{{{ completeWord() method
"/*                 * Complete the big bucket [ss] by quicksorting                 * any unsorted small buckets [ss, j].  Hopefully                 * previous pointer-scanning phases have already                 * completed many of the small buckets [ss, j], so                 * we don't have to sort them at all.                 */"
"/*			Try imported packages, e.g. ""import foo.bar.*;""			in reverse order of import...			(give later imports precedence...)		*/"
//{{{ dispose() method
"/*                throw new EvalError(					""Sourced file: ""+sourceFileInfo+"" parser Error: "" 					+ e.getMessage( DEBUG ), node, callstack );				*/"
// if the last key was a numeric keypad key // and NumLock is off, filter it out
//{{{ Buffer management methods
//{{{ addKeyBinding() method
// only complete current buffer's keyword map
// Pick screen with largest intersection
//{{{ isSelected() method
//{{{ ThreadProgress constructor
//{{{ Get properties
// '+ 1' so that findWordEnd() doesn't pick up the space at the start
//{{{ updateMiscStatus() method
//}}} //{{{ show popup if > 1
// scan from selection to end failed, so // scan from start to selection
// build a list of unique words in all visible buffers
//{{{ getToolTipText() method
//{{{ getNonAlphaNumericWordChars() method
// These JComponent methods provide the appropriate points // to subscribe and unsubscribe this object to the EditBus
//{{{ if there is only one competion, insert in buffer
//{{{ setBlockCaretEnabled() method
// check for match at start of line
// // Buffers for decoded but unparsed character input. //
// -------------------------------------------------------------------------- // Fields for the control flow graph analysis algorithm (used to compute the // maximum stack size). A control flow graph contains one node per "basic // block", and one edge per "jump" from one basic block to another. Each node // (i.e., each basic block) is represented by the Label object that // corresponds to the first instruction of this basic block. Each node also // stores the list of it successors in the graph, as a linked list of Edge // objects. // --------------------------------------------------------------------------
//{{{ loop through all lines of current buffer
//}}} //{{{ Word character...
//{{{ try to find matching keywords
//{{{ getDockableWindowManager() method
// reinit the callstack
// ok, this one seems to confuse newbies // endlessly, so log it as NOTICE, not // ERROR
//{{{ Completion class
//{{{ insertSelected() method
// Note: if we want methods declared inside blocks to be accessible via // this.methodname() inside the block we could handle it here as a // special case.  See also resolveThisFieldReference() special handling // for BlockNameSpace case.  They currently work via the direct name // e.g. methodName().
/*, CallStack callstack */
// $ at end is literal //}}}
//{{{ RotatedTextIcon class
//{{{ createFieldPanel() method
//{{{ statusUpdate() method
// If we find some other // character that follows // a \r, so it is not a // Windows file, and probably // a Mac file
// begin source and eval
// Pass 1: compute preferred row heights / column widths
// break out of inner for loop to check next char //}}} //{{{ Handle end of MARK_FOLLOWING
// Check for explicit return of value from void method type. // retControl.returnPoint is the Node of the return statement
//{{{ contentInserted() method
// allocate the array to store the initializers // description of the array // The other dimensions default to zero and are assigned when  // the values are set.
"/* construct a BeanShell snippet instead of				 * invoking directly so that user can record				 * property changes in macros. */"
// setting the message to 'null' causes the status bar to check // if a recording is in progress
// opcode of current instruction // bytes to be added after this instruction
// Check for surrogates: 00000000 0000xxxx yyyyyyyy zzzzzzzz //  (1101|10xx|xxyy|yyyy + 1101|11yy|zzzz|zzzz: 
// collapse all nodes, as suggested on user mailing list...
// attempting to expand non-word char
// If there aren't enough repeats, then fail
// switch namespace and special var visibility
// // Attributes //
// evaluate the instance portion of the block in it // Evaluate the initializer block
//{{{ Update line info and line context arrays
// Generate code to call ClassGeneratorUtil to get our switch index  // and give us args...
// add all items in current to doables array
// These are, respectively, the first and last tokens in our linked list // If there is only one token, firstToken == lastToken
"/* Returns the node on the top of the stack, and remove it from the     stack.  */"
//{{{ runTemporaryMacro() method
// updates current and max stack sizes only if opcode == NEW // (stack size variation = 0 for ANEWARRAY, CHECKCAST, INSTANCEOF)
//case ClassWriter.FIELD: //case ClassWriter.METH: //case ClassWriter.IMETH:
//doesnt exist?? //pf.setOrientation(PageFormat.REVERSE_PORTRAIT); //then just do the next best thing
"//System.err.println(""y="" + y + "",offsetY="" + offsetY //	+ "",size.height="" + size.height //	+ "",win.height="" + win.getHeight());"
// not in settings directory or jEdit home directory. // no need to reload anything.
// Number of subexpressions in this token.
//{{{ getFiles() method
// // The current XML handler interface. //
// don't show splash screen if there is a file named // 'nosplash' in the settings directory
// Generate the code implementing the alternate constructor switch
//{{{ getPrevVisibleLine() method
//{{{ saveSettings() method
//{{{ setMessageAndClear() method
//{{{ removeMarker() method
//{{{ preferredLayoutSize() method
//{{{ TextAreaDialog constructor
// if a directory is selected, create new dir in there. // if a file is selected, create new dir inside its parent.
"/* For example, if the current fileset is a directory,		 * C+g will find the next match within that fileset.		 * This can be annoying if you have just done an		 * incremental search and want the next occurrence		 * in the current buffer. */"
// coming out of background mode. // no views open. // no buffers open if args empty.
/*isStatic*/
// replaces GOTO with GOTO_W, JSR with JSR_W and IFxxx <l> with // IFNOTxxx <l'> GOTO_W <l>, where IFNOTxxx is the "opposite" opcode // of IFxxx (i.e., IFNE for IFEQ) and where <l'> designates the // instruction just after the GOTO_W.
"/* to avoid data loss, only do this if the above			 * completed successfully */"
"/* TableColumn col1 = getColumnModel().getColumn(0);		col1.setMinWidth(20);		col1.setMaxWidth(20);		col1.setPreferredWidth(20); */"
// because this method is called for *every* VFS update, // we don't want to scan the tree all the time. So we // use the following algorithm to determine if the path // might be part of the tree: // - if the path starts with the browser's current directory, //   we do the tree scan // - if the browser's directory is 'favorites:' -- we have to //   do the tree scan, as every path can appear under the //   favorites list // - if the browser's directory is 'roots:' and path is on //   the local filesystem, do a tree scan
//{{{ saveUserProps() method
/*fromValue*/
//{{{ setFrames() method
//{{{ loadPluginProps() method
"/*             * Compute MTF values for the selectors.             */"
// Number of characters in 'buf' array. // InputStream.read() doesn't always fill the // array (eg, the file size is not a multiple of // IOBUFSIZE, or it is a GZipped file, etc)
//{{{ WindowTableModel class
//{{{ setMessageComponent() method
//{{{ removeUpdate() method
//{{{ updateCaretStatus() method
//{{{ WorkThreadListener implementation
// Primitive (not null or void) to Object.class type
//}}} //{{{ TERMINATE
//{{{ getActionNames() method
// don't obscure existing message
/* boolean */
// so if view is closed in the meantime...
// General case - performe the instanceof based on assignability
//{{{ findWordEnd() method
/* can happen when switching buffers sometimes */
// for backwards compatibility
//{{{ setMessage() method
"/*		The interpretation of an ambiguous name is context sensitive.		We disallow a generic eval( ).	*/"
// Begin BeanShell Modification - moved body to overloaded getMessage()
// updates max locals only (no stack change)
//{{{ getCacheableActionNames() method
// resolves previous forward references to label, if any
// End BeanShell Modification - override error methods and toString
/* package-private for speed */
//{{{ createPosition() method
//{{{ contains() method
//{{{ componentResized() method
"/* 			Here we catch any EvalError from the interpreter because we are			using it as a tool to load the command, not as part of the			execution path.		*/"
//{{{ Action hints
//{{{ getProperty() method
// this.index is index of next pos relative to charAt(0)
//{{{ setProperty() method
//{{{ size() method
//{{{ addPluginProps() method
//{{{ removePluginProps() method
// set flag that next should fail next time?
// Listener interfaces
//{{{ getDefaultRootElement() method
//actions.clear();
//}}} //{{{ Counterclockwise rotation
// sanity check during development
//{{{ getStandardRuleSet() method
//{{{ removeNotify() method
// NON-WHITESPACE OPERATOR //  \S
// Error conditions from GNU regcomp(3) manual
//{{{ copy() method
//{{{ setDirectory() method
//{{{ paintComponent() method
//{{{ bufferClosed() method
// updates the global max stack size
//{{{ removeLayoutComponent() method //}}}
// case of a backward jump with an offset >= -32768, or of a forward jump // with, of course, an unknown offset. In these cases we store the offset // in 2 bytes (which will be increased in resizeInstructions, if needed).
//{{{ ToolTipLabel class
// 2-byte sequence: 00000yyyyyxxxxxx = 110yyyyy 10xxxxxx
// NULL return null as type... we currently use null type to indicate  // loose typing throughout bsh.
//{{{ MouseHandler class
// visitInsn // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // visitIntInsn // - // visitLdcInsn //int LDC_W = 19;           // - //int LDC2_W = 20;          // - // visitVarInsn // - // - // - // - //int ILOAD_0 = 26;         // - //int ILOAD_1 = 27;         // - //int ILOAD_2 = 28;         // - //int ILOAD_3 = 29;         // - //int LLOAD_0 = 30;         // - //int LLOAD_1 = 31;         // - //int LLOAD_2 = 32;         // - //int LLOAD_3 = 33;         // - //int FLOAD_0 = 34;         // - //int FLOAD_1 = 35;         // - //int FLOAD_2 = 36;         // - //int FLOAD_3 = 37;         // - //int DLOAD_0 = 38;         // - //int DLOAD_1 = 39;         // - //int DLOAD_2 = 40;         // - //int DLOAD_3 = 41;         // - //int ALOAD_0 = 42;         // - //int ALOAD_1 = 43;         // - //int ALOAD_2 = 44;         // - //int ALOAD_3 = 45;         // - // visitInsn // - // - // - // - // - // - // - // visitVarInsn // - // - // - // - //int ISTORE_0 = 59;        // - //int ISTORE_1 = 60;        // - //int ISTORE_2 = 61;        // - //int ISTORE_3 = 62;        // - //int LSTORE_0 = 63;        // - //int LSTORE_1 = 64;        // - //int LSTORE_2 = 65;        // - //int LSTORE_3 = 66;        // - //int FSTORE_0 = 67;        // - //int FSTORE_1 = 68;        // - //int FSTORE_2 = 69;        // - //int FSTORE_3 = 70;        // - //int DSTORE_0 = 71;        // - //int DSTORE_1 = 72;        // - //int DSTORE_2 = 73;        // - //int DSTORE_3 = 74;        // - //int ASTORE_0 = 75;        // - //int ASTORE_1 = 76;        // - //int ASTORE_2 = 77;        // - //int ASTORE_3 = 78;        // - // visitInsn // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // visitIincInsn // visitInsn // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // visitJumpInsn // - // - // - // - // - // - // - // - // - // - // - // - // - // - // - // visitVarInsn // visiTableSwitchInsn // visitLookupSwitch // visitInsn // - // - // - // - // - // visitFieldInsn // - // - // - // visitMethodInsn // - // - // - //int UNUSED = 186;         // NOT VISITED // visitTypeInsn // visitIntInsn // visitTypeInsn // visitInsn // - // visitTypeInsn // - // visitInsn // - //int WIDE = 196;           // NOT VISITED // visitMultiANewArrayInsn // visitJumpInsn // - //int GOTO_W = 200;         // - //int JSR_W = 201;          // -
//{{{ quicksort() method
// hopefully another caret update will come?
// 1st step: // As explained above, resizing an instruction may require to resize another // one, which may require to resize yet another one, and so on. The first // step of the algorithm consists in finding all the instructions that // need to be resized, without modifying the code. This is done by the // following "fix point" algorithm: // - parse the code to find the jump instructions whose offset will need //   more than 2 bytes to be stored (the future offset is computed from the //   current offset and from the number of bytes that will be inserted or //   removed between the source and target instructions). For each such //   instruction, adds an entry in (a copy of) the indexes and sizes arrays //   (if this has not already been done in a previous iteration!) // - if at least one entry has been added during the previous step, go back //   to the beginning, otherwise stop. // In fact the real algorithm is complicated by the fact that the size of // TABLESWITCH and LOOKUPSWITCH instructions depends on their position in // the bytecode (because of padding). In order to ensure the convergence of // the algorithm, the number of bytes to be added or removed from these // instructions is over estimated during the previous loop, and computed // exactly only after the loop is finished (this requires another pass to // parse the bytecode of the method).
// nodes remember from where they were sourced
// jump offset // GOTO_W
// this should never throw an exception.
// This reloads the token marker and sends a message // which causes edit panes to repaint their text areas
"/* Determine installation directory.		 * If the jedit.home property is set, use that.		 * Then, look for jedit.jar in the classpath.		 * If that fails, assume this is the web start version. */"
// create a panel with a BoxLayout. Can't use Box here // because Box doesn't have setBorder().
"/*			Look ahead and short circuit evaluation of the rhs if:				we're a boolean AND and the lhs is false.		*/"
//int totalDraw = (n + 1 + NUM_OVERSHOOT_BYTES) + (n + NUM_OVERSHOOT_BYTES) + n + 65537; //compressOutOfMemory ( totalDraw, n );
//{{{ setTemporaryProperty() method
// End BeanShell Modification - moved body to overloaded getMessage()
//{{{ unsetProperty() method
"/* 			Create the root ""bsh"" system object if it doesn't exist.		*/"
//{{{ resetProperty() method
// end JcmdProcessTest.java
// Check that the attribute doesn't // already exist!
// // helper methods //
// We have to open our own stream // to the URL.
//{{{ getActiveView() method
//{{{ charData() method
"/*         * Nodes and heap entries run from 1.  Entry 0         * for both the heap and nodes is a sentinel.         */"
// if any directories are selected, add // them, otherwise add current directory
//{{{ getBottomDockingArea() method
//}}} //{{{ KEY_TYPED...
//{{{ getTime() method
//{{{ DockableWindowManager constructor
//Font font = UIManager.getFont("Label.font");
// NON-ALPHANUMERIC OPERATOR //  \W
"/*             * Now ftab contains the first loc of every small bucket.             * Calculate the running order, from smallest to largest             * big bucket.             */"
"/*         * Now the selectors.         */"
//{{{ Clock constructor
//{{{ makeServerScript() method
//{{{ Clock class
// don't show menu items to dock into a plain view
// returns Object covering both Double and Boolean return types
// this is package-private so that the painter can use it without // having to call getSelection() (which involves an array copy)
// -------------------------------------------------------------------------- // Constructor // --------------------------------------------------------------------------
// do operating system specific stuff (creating startup // scripts, installing man pages, etc.)
//{{{ HistoryTextField constructor
//{{{ TreeHandler class
//{{{ DockableWindowCompare class
// Read the default value.
"/*             * Use simpleSort(), since the full sorting mechanism             * has quite a large constant overhead.             */"
"/*         * In the various block-sized structures, live data runs         * from 0 to last+NUM_OVERSHOOT_BYTES inclusive.  First,         * set up the overshoot area for block.         */"
//{{{ showPopupMenu() method
//lhs.assign( null, false );
// pushes handler block onto the stack of blocks to be visited
// End BeanShell Modification - added sourceFile info
// failsafe, set the Line as the origin of the error.
"/*                 * copy 1                 */"
//{{{ doAWTRequests() method
//{{{ propertiesChanged() method
"/*			We jump through some hoops here to handle arbitrary cases like			unset(""bsh.foo"");		*/"
// // Utility flag: have we noticed a CR while reading the last // data chunk?  If so, we will have to go back and normalise // CR/LF. //
// add the source file info and throw again
/* this ensures that the first line is always visible */
"/*  					Don't auto-unwrap wrappers (preserve identity semantics)					FALL THROUGH TO OBJECT OPERATIONS BELOW.				*/"
// optimization for common case
// end source and eval
//{{{ isVisible() method
// this notifies each display manager editing this // buffer of the screen line count change
// end primary set and get methods
// No, it is not.
//{{{ getEnterAddsToHistory() method
// Careful here: // else fall through to override and install the new typed version
//{{{ getAfterCaretTextArea() method
//{{{ removeExtendedAttributes() method
//{{{ ScrollLineCount class
// Default is c:\windows under win98, $HOME under Unix
//{{{ MemoryStatus constructor
"/*this originally handled postfix array dimensions...void VariableDeclaratorId() #VariableDeclaratorId :{ Token t; }{  t=<IDENTIFIER> { jjtThis.name = t.image; }  ( ""["" ""]"" { jjtThis.addUndefinedDimension(); } )*}*/"
//{{{ setSelectAllOnFocus() method
// If this is a unary increment of decrement (either pre or postfix) // then we need an LHS to which to assign the result.  Otherwise // just do the unary operation for the value.
// adds the instruction to the bytecode of the method
// End ConsoleInterface
"/*             * Recompute the tables based on the accumulated frequencies.             */"
//{{{ newView() method
"/*	Note: this class is final because we may test == Primitive.class in places.	If we need to change that search for those tests.*/"
// show 'close' item if at least one selected // file is currently open
//{{{ setEnterAddsToHistory() method
//{{{ getSelectAllOnFocus() method
//{{{ doTypeSelect() method
//{{{ splitVertically() method
//{{{ getInstantPopups() method
//{{{ setInstantPopups() method
// check if download failed
// so that it doesn't resize...
// Look for a known signature.
//{{{ addToolBar() method
// Set the new status
// next succeeds // is a match // try next option
//{{{ mousePressed() method
// Add the '0-repeats' index // positions.elementAt(z) == position [] in input after <<z>> matches
//{{{ doBackwardSearch() method
// invalidate the old selection
//{{{ ColorPickerDialog class
"/* fireTableRowsInserted(startIndex + 1,				startIndex + list.size() + 1); */"
//{{{ processKeyEvent() method
// These variables are package scope for fast access within the engine // execution flags this match was made using
//{{{ getModel() method
// ZERO-OR-ONE REPEAT OPERATOR / STINGY MATCHING OPERATOR //  ? | \? depending on RE_BK_PLUS_QM //  not available if RE_LIMITED_OPS is set //  stingy matching if RE_STINGY_OPS is set and it follows a quantifier
//{{{ unsplit() method
//{{{ getSelectedFiles() method
//{{{ processMouseEvent() method
//{{{ FocusHandler class
//{{{ mouseReleased() method
//{{{ rename() method
//{{{ PanelWindowContainer constructor
//   //  End mutable instance variables. // ---------------------------------------------------------
// Order of body and condition is swapped for do / while
// we don't want duplicate // entries in the kill ring
//{{{ DockBorder class
// Determine the current content type.
//{{{ getExpandOnInput() method
//{{{ CompletionPopup constructor
//{{{ setExpandOnInput() method
// can't shift floats
//{{{ historyPrevious() method
//{{{ MarkerHighlight class
// evaluate the expression
// if relative, fix up to bsh.cwd
// UCS-4 must begin with "<!XML" // 0x00 0x00 0x00 0x3c: UCS-4, big-endian (1234)
// set transient fields
"/*			Lots of preconditions checked here...			Once things are running smoothly we might comment these out			(That's what assertions are for).		*/"
//{{{ equals() method
// converts temporary opcodes 202 to 217 (inclusive), 218 and 219 // to IFEQ ... JSR (inclusive), IFNULL and IFNONNULL
// no body?
// Read the first four bytes for // autodetection.
"/* Magic: UNTITLED is only set if newFile param to		 * constructor is set, NEW_FILE is also set if file		 * doesn't exist on disk.		 *		 * This is so that we can tell apart files created		 * with jEdit.newFile(), and those that just don't		 * exist on disk.		 *		 * Why do we need to tell the difference between the		 * two? jEdit.addBufferToList() checks if the only		 * opened buffer is an untitled buffer, and if so,		 * replaces it with the buffer to add. We don't want		 * this behavior to occur with files that don't		 * exist on disk; only untitled ones.		 */"
//{{{ mouseDragged() method
// in the future we will want something better, // eg. having an 'evt' object passed to // EditAction.invoke().
// Read the XML/Encoding declaration.
/* new JEditLauncherOSTask(installer) */
//{{{ getSelectedColor() method
"/* When closing the last buffer, the BufferUpdate.CLOSED			 * handler doesn't call setBuffer(), because null buffers			 * are not supported. Instead, it waits for the subsequent			 * 'Untitled' file creation. */"
//{{{ doForwardSearch() method
// Yay, we're finally there
// creates a new Edge object or reuses one from the shared pool
// down arrow
// no parenthesis on previous line (prevLineParenWeight == 0) so the normal indenting rules are used
// have to do this because setText() sets index to -1
//{{{ HistoryBorder class
"/* Call this to reinitialize the node stack.  It is called     automatically by the parser's ReInit() method. */"
// Delete existing copy
//initCallStack( namespace );
//{{{ ColorWellButton constructor
//{{{ historyNext() method
// use the low-level property setting code // so that if we have a buffer-local // property with the same value as a default, // later changes in the default don't affect // the buffer-local property
// null callstack, one will be created for us 
// according to krisk this looks better on OS X...
// replaces the temporary jump opcodes introduced by Label.resolve.
// Read an XML or text declaration.
// Search for a matching tuple, and // return the string if we find one.
// Get the syntax token at 'offset' // only tokens with the same type will be checked for // the corresponding bracket
// so you the avid code reader should use MODES as the // DOCTYPE instead, but we still let old catalogs through // to avoid annoying users.
// only select other whitespace in this case
// Attempt to detect the encoding.
//{{{ scrollDownPage() method
"/* fireTableRowsUpdated(index,index);		fireTableRowsDeleted(index + 1,lastIndex); */"
// initializes the previous Edge object...
// even though this class is called AbstractOptionPane, it is not really // abstract, since BufferOptions uses an instance of it to lay out its // components.
// Don't show the welcome message if jEdit was started // with the -nosettings switch
"/*			Child is array initializer.  Evaluate it and fill in the 			dimensions it returns.  Initialized arrays are always fully defined			(no undefined dimensions to worry about).  			The syntax uses the undefinedDimension count.			e.g. int [][] { 1, 2 };		*/"
//{{{ spacesToTabs() method
//{{{ doctypeDecl() method
//{{{ loadSiteProps() method
/* they're too troublesome */
// case ClassWriter.MANA_INSN:
// Here, we have seen an odd number of backslash's followed by a 'u'
//{{{ getLineOfOffset() method
//{{{ getHandlerForFileName() method
//{{{ dragAndDropCallback() method
//{{{ KEY_PRESSED...
//{{{ maybeReloadDirectory() method
// // Entities //
//{{{ ColorWell class
//{{{ showClipText() method
// map loose return type to Object
//{{{ initTextArea() method
//{{{ handleMessage() method
//{{{ updateButtons() method
//{{{ getBeanShellReplace() method
/* case KeyEvent.VK_SEPARATOR: */
//{{{ StatusBar constructor
// need to let \b through so that backspace will work // in HistoryTextFields
//{{{ PasteFromListDialog constructor
// People have reported hangs with JDK 1.4; might be // caused by modal dialogs being displayed from // windowActivated()
//{{{ getSelectedClipText()
// for the parent directory right-click; on the click we select // the clicked item, but when the popup goes away we select the // currently showing directory.
//{{{ numericKeypadKey() method
// add interpereter and namespace to args list
//{{{ reload() method
"/* reference counter allows us to remove a column from		 * the table when no directory using this column is		 * visible */"
//{{{ setRegister() method
// for ABI compatibility
//{{{ If reloading root, update parent directory list
// label == null means no configurable options
"/*			Is it a simple variable name?			Doing this first gives the correct Java precedence for vars 			vs. imported class names (at least in the simple case - see			tests/precedence1.bsh).  It should also speed things up a bit.		*/"
// like TABL_INSN
//{{{ getBufferHistory() method
// eg, trying to bind C+n C+p if C+n already bound
// --------------------------------------------------------- // The following instance variables mutate during evaluation and should // be reset by the reset() method where necessary
// Find the bsh method
//Log.log(Log.WARNING,this,"VFS update: request already in progress");
// Call script "invoke( String methodName, Object [] args );
// a default equals() testing for equality with the This reference
// Check if a plugin with the same name // is already loaded
// see VFSBrowser.browseDirectory()
// Start the entity.
// As long as there's nothing in the // read buffer, try reading more data // (for an external entity) or popping // the entity stack (for either).
// save a file -> sends vfs update. if a VFS file dialog box // is shown from the same event frame as the save, the // VFSUpdate will be delivered before the directory is loaded, // and before the path is set.
//{{{ expandAbbrev() method
//{{{ getPreferredSize() method
//{{{ InputHandler constructor
//{{{ FileRootsVFS constructor
"/* We do this stuff because the browser is not able to handle	 * more than one request yet */"
//{{{ FilesChangedDialog constructor
"/*				If we have type info and the child is an array initializer				pass it along...  Else use the default eval style.				(This allows array initializer to handle the problem... 				allowing for future enhancements in loosening types there).				*/"
//{{{ Renderer class
// There's an explicit character stream.
// record \n and \t on lines specially so that auto indent // can take place
"/* case MouseEvent.MOUSE_ENTERED:				toolTipInitialDelay = ttm.getInitialDelay();				toolTipReshowDelay = ttm.getReshowDelay();				ttm.setInitialDelay(200);				ttm.setReshowDelay(0);				super.processMouseEvent(evt);				break;			case MouseEvent.MOUSE_EXITED:				ttm.setInitialDelay(toolTipInitialDelay);				ttm.setReshowDelay(toolTipReshowDelay);				super.processMouseEvent(evt);				break; */"
// I guess ideally all browsers // should have views, but since they // don't, we just use the active view // in that case, since some actions // depend on a view being there and // I don't want to add checks to // them all
// Push the boolean constant 'true' (for declaredOnly)
// REMIND: calling isDirectory() on a floppy drive // displays stupid I/O error dialog box on Windows
//{{{ valueChanged() method
//{{{ FavoritesMenuButton constructor
/* Line seperator */
// Normal condition.
//{{{ selectAll() method
// if the user pressed eg C+e n n in the // search bar we want focus to go back there // after the prefix is done
//{{{ showSplashScreen() method
//{{{ isPrefixActive() method
//{{{ GutterOptionPane constructor
// is it a header?
// null some variables so that retaining references // to closed views won't hurt as much.
// Push the existing status.
// to avoid having to deal with read/write locks and such, // we insert the loaded data into the buffer in the // post-load cleanup runnable, which runs in the AWT thread.
// Make the URL absolute.
// paths on case-insensitive filesystems are stored as lower // case in the hash.
// Create a new read buffer. // (Note the four-character margin)
//{{{ check if we have to stop parsing
// Flush any remaining data.
/* value */
// queue of redos. first is most recent, last is oldest
// // Notations. //
////////////////////////////////////////////////////////////////////// // Major syntactic productions. //////////////////////////////////////////////////////////////////////
//{{{ runScript() method
//{{{ Paint token backgrounds
//{{{ invokeAction() method
//{{{ getStartOffset() method
//{{{ removeAllKeyBindings() method
//{{{ isDragEnabled() method
//{{{ removeKeyBinding() method
//{{{ resolveEntity() method
// we create a stream tokenizer for parsing a simple // stack-based language
// // Flags for parsing context. //
//{{{ getLastAction() method
// can happen if the user presses C+w twice real // quick and the buffer has unsaved changes
//{{{ getLength() method
//{{{ readNextChar() method
// Parse the first content particle
//{{{ getRepeatCount() method
//{{{ construct() method
//{{{ getLastActionCount() method
// if this successor has not already been pushed onto the stack...
//{{{ Entry class
// bytecode of the method // indexes in b // loop indexes
//{{{ LineManager constructor
// try mode-specific abbrevs first
// This constructor is used for convenience when we know the set beforehand, // e.g. \d --> new RETokenOneOf("0123456789",false, ..) //      \D --> new RETokenOneOf("0123456789",true, ..)
//{{{ RecentHandler class
// Add tryMatch to list of possibilities.
//{{{ Protected members
"/*			If we didn't find a class or variable name (or prefix) above			there are two possibilities:			- If we are a simple name then we can pass as a void variable 			reference.			- If we are compound then we must fail at this point.		*/"
// if we've got an object, resolve the method
// Ease debugging... // XThis.this refers to the enclosing class instance
// Special:
//{{{ setSelection() method
// for backwards compatibility with plugins that fiddle with // jEdit's UI layout
//{{{ transactionComplete() method
//{{{ getElementCount() method
// this is either style.getBackgroundColor() or // styles[defaultID].getBackgroundColor()
// so that end followed by up arrow will always put caret at // the end of the previous line, for example //setMagicCaretPosition(Integer.MAX_VALUE); //}}}
// push this constructor index number onto stack
/*paramTypes*/
// else set it and return
// stop checking rules if there was a match
// execute the action
// reads and copies instruction
//{{{ Figure out some minor things
//{{{ WindowTableModel constructor
// // Location. //
"//Log.log(Log.DEBUG,jEdit.class,""Adding edit mode "" //	+ mode.getName());"
//{{{ initBufferSwitcher() method
// Get the ConstructorArgs selector field from ConstructorArgs
"/*     * index of the last char in the block, so     * the block size == last + 1.     */"
// If repeat was true originally, clear it // Otherwise it might have been set by the action, etc
//{{{ resetLastActionCount() method
//{{{ updateTitle() method
//cv.visitLineNumber( index, labels[index] ); // push this before args
// OK, add it to the end of the // bucket.
//{{{ MyFocusManager class
// leave null
// can't happen
// DIGIT OPERATOR //  \d if RE_CHAR_CLASS_ESCAPES is set
//{{{ MyFocusTraversalPolicy class
// selected a header; skip to the next row
"/* A conditional node is constructed if its condition is true.  All     the nodes that have been pushed since the node was opened are     made children of the the conditional node, which is then pushed     on to the stack.  If the condition is false the node is not     constructed and they are left on the stack. */"
// 1-byte sequence: 000000000xxxxxxx = 0xxxxxxx
// only set if all buffers saved/closed
// updates current stack size (max stack size unchanged because stack // size variation always negative in this case)
// first of all, if this action set a // readNextChar, do not clear the repeat
//{{{ MouseWheelHandler class
// should normally be
// remember the last executed action
//{{{ handleKey() method
"/*		Disallowing VOIDs here was an easy way to support the throwing of a 		more descriptive error message on use of an undefined argument to a 		method call (very common).  If it ever turns out that we need to 		support that for some reason we'll have to re-evaluate how we get 		""meta-information"" about the arguments in the various invoke() methods 		that take Object [].  We could either pass BSHArguments down to 		overloaded forms of the methods or throw an exception subtype 		including the argument position back up, where the error message would		be compounded.	*/"
//{{{ invokeReadNextChar() method
//{{{ JCheckBoxList constructor
// stop people doing dumb stuff like C+ENTER 100 C+n
//{{{ getValues() method
//{{{ TextAreaTransferHandler class
// For evaluation
"/*		Note: bshmethod needs to re-evaluate the method return type here.		This is broken.	*/"
//{{{ userInput() method
//{{{ goToPrevBracket() method
// Read the encoding.
// positional parameters will be inserted where $1, $2, $3, ... // occurs in the expansion
"/* if user drops into the same			selection where they started, do			nothing. */"
//{{{ actionPerformed() class
//{{{ Handle abbrevs of the form abbrev#pos1#pos2#pos3#...
// -------------------------------------------------------------------------- // Fields to optimize the creation of {@link Edge Edge} objects by using a // pool of reusable objects. The (shared) pool is a linked list of Edge // objects, linked to each other by their {@link Edge#poolNext} field. Each // time a CodeWriter needs to allocate an Edge, it removes the first Edge // of the pool and adds it to a private list of Edge objects. After the end // of the control flow analysis algorithm, the Edge objects in the private // list of the CodeWriter are added back to the pool (by appending this // private list to the pool list; in order to do this in constant time, both // head and tail of the private list are stored in this CodeWriter). // --------------------------------------------------------------------------
// have to check again since above might set // NEW_FILE flag
//{{{ isOK() method
//{{{ progressUpdate() method
// For `reload' command
// Only on initial load
// 4-byte sequence: 11101110wwwwzzzzyy + 110111yyyyxxxxxx //     = 11110uuu 10uuzzzz 10yyyyyy 10xxxxxx // (uuuuu = wwww + 1)
//{{{ Do some stuff once loading is finished
// if reloading a file, clear dirty flag
// case of a backward jump with an offset < -32768. In this case we // automatically replace GOTO with GOTO_W, JSR with JSR_W and IFxxx <l> // with IFNOTxxx <l'> GOTO_W <l>, where IFNOTxxx is the "opposite" opcode // of IFxxx (i.e., IFNE for IFEQ) and where <l'> designates the // instruction just after the GOTO_W.
//{{{ invokeLastAction() method
// try and merge existing selections one by // one with the new selection
// Invoke the block, overriding namespace with localNameSpace
"/* if user drops into a selection,				replace selection */"
//{{{ getSelectedValue() method
// now done in NameSpace automatically when root // The classes which are imported by default //globalNameSpace.loadDefaultImports();
// Instead of passing these around to each method, we just store them // as instance variables. Note that this is not thread-safe.
// Also cache it in the static namespace... //classStaticNameSpace.cacheClass( name, genClass );
//{{{ AboutDialog constructor
//{{{ if there are no requests, execute AWT requests immediately
//{{{ LabelRenderer class
// If multiple threads log stuff, we don't want // the output to get mixed up
// Resolved the variable
"/* 			Create non-interactive local interpreter for this namespace			with source from the input stream and out/err same as 			this interpreter.		*/"
//{{{ maximumLayoutSize() method
//{{{ cacheDockableWindows() method
//{{{ finalize() method
// two additional bytes will be required to replace this // GOTO or JSR instruction with a GOTO_W or a JSR_W
// five additional bytes will be required to replace this // IFxxx <l> instruction with IFNOTxxx <l'> GOTO_W <l>, where // IFNOTxxx is the "opposite" opcode of IFxxx (i.e., IFNE for // IFEQ) and where <l'> designates the instruction just after // the GOTO_W.
//System.err.println("cleaned up weak ref: "+deadref);
//{{{ UndoManager constructor
//{{{ registerDockableWindow() method
//{{{ floatDockableWindow() method
// register the Options dialog as a TreeSelectionListener. // this is done before the initial selection to ensure that the // first selected OptionPane is displayed on startup.
//{{{ pushElement() method
// If found cache the full name in the BshClassManager
// ------------------------------------------------------------------------- // Exceptions table entries, max stack size and max locals // -------------------------------------------------------------------------
// changes temporary opcodes 202 to 217 (inclusive), 218 and 219 // to IFEQ ... JSR (inclusive), IFNULL and IFNONNULL
//{{{ AboutPanel class
// get rid of keys we never need to handle
//{{{ startDocument() method
//{{{ DockableListHandler constructor
/* get all positions from offset to the end, inclusive */
//{{{ Constants
// set proxy host
// return the newly created 'untitled-1'
//{{{ setRepeatCount() method
//{{{ peekElement() method
//{{{ getCellRenderer() method
// Handle ".class" suffix operation // Prefix must be a BSHType
// releases all the Edge objects used by this CodeWriter
//{{{ popElement() method
//{{{ DockableListHandler class
//{{{ showDockableWindow() method
//{{{ getCachedDockableNames() method
//{{{ getColumnCount() method
//{{{ Static part of class
//{{{ Lay out independent buttons
//{{{ createPopupMenu() method
//{{{ getRegisteredDockableWindows() method
// control flow analysis algorithm: while the block stack is not empty, // pop a block from this stack, update the max stack size, compute // the true (non relative) begin stack size of the successors of this // block, and push these successors onto the stack (unless they have // already been pushed onto the stack). Note: by hypothesis, the {@link // Label#beginStackSize} of the blocks in the block stack are the true // (non relative) beginning stack sizes of these blocks.
//{{{ unloadDockableWindows() method
// check whether shortcut is a prefix to others
// Save the element info.
//{{{ canClose() method
//{{{ Buttons
// Try looking up the element
// Insert the content model, if any.
// Read the entity name, and prepend // '%' if necessary.
// Make a new one if necessary.
// for SPACE or S+SPACE we pass the // key typed since international // keyboards sometimes produce a // KEY_PRESSED SPACE but not a // KEY_TYPED SPACE, eg if you have to // do a "<space> to insert ".
// view text areas temporarily blank out while a buffer is // being loaded, to indicate to the user that there is no // data available yet.
//{{{ searchDone() method
//{{{ Factory class
// theoretically a segment could // have seg.offset != 0 but // SegmentBuffer never does that
"/*			Note: some interesting things are going on here.			1) We swap instead of push...  The primary mode of operation 			acts like we are in the enclosing namespace...  (super must be 			preserved, etc.)			2) We do *not* call the body block eval with the namespace 			override.  Instead we allow it to create a second subordinate 			BlockNameSpace child of the forNameSpace.  Variable propogation 			still works through the chain, but the block's child cleans the 			state between iteration.  			(which is correct Java behavior... see forscope4.bsh)		*/"
//{{{ OpenAction constructor
// if auto wrap is on, always restart search. // if auto wrap is off, and we're called from // a macro, stop search. If we're called // interactively, ask the user what to do.
//{{{ Factory constructor
//{{{ getMinimumSize() method
//{{{ Sorting methods
//{{{ addComponent() method
//{{{ Instance part of class
// updates current stack size (max stack size unchanged)
// If both original args were Primitives return a Primitive result // else it was mixed (wrapper/primitive) return the wrapper type // Exception is for boolean result, return the primitive
//{{{ FloatAction constructor
"/*		invokeMethod() here is generally used by outside code to callback		into the bsh interpreter. e.g. when we are acting as an interface		for a scripted listener, etc.  In this case there is no real call stack		so we make a default one starting with the special JAVACODE namespace		and our namespace as the next.	*/"
//{{{ getModeProperties() method
// See if the application wants to // redirect the system ID and/or // supply its own character stream.
// make default be true for the next // action
// non-interactive, return control now
// See if we should place this toolbar before any others
//{{{ getView() method
// Method body can only use 'return' statment type return control.
//|| ( getParent()!=null && getParent().classStatic != null ) 
// show extra "expecting..." info
"/*	 *  to avoid our skip table having a length of 2 ^ 16, we hash each	 *  character of the input into a character in the alphabet [\x00-\xFF]	 *  using the lower 8 bits of the character's value (resulting in	 *  a more reasonable skip table of length 2 ^ 8).	 *	 *  the result of this is that more than one character can hash to the	 *  same index, but since the skip table encodes the position of	 *  occurence of the character furthest into the string with a particular	 *  index (whether or not it is the only character with that index), an	 *  index collision only means that that this heuristic will give a	 *  sub-optimal skip (i.e. a complete skip table could use the differences	 *  between colliding characters to maximal effect, at the expense of	 *  building a table that is over 2 orders of magnitude larger and very	 *  sparse).	 */"
// map null to Primtive.NULL coming in...
// if localscoping switch follow strictJava, else recurse
"/*	Methods for interacting with Parser */"
// UCS-2 with a byte-order marker. // 0xfe 0xff: UCS-2, big-endian (12)
//{{{ RolloverButton constructor
//{{{ FloatAction class
//{{{ ToggleAction class
// pops a block from the stack
//{{{ StyleRenderer class
//{{{ getScreenLineEndOffset() method
//{{{ ToggleAction constructor
//{{{ literalBeanShellReplace() method
// squeltch security exception, filenotfoundexception
// Save settings in case user kills the backgrounded // jEdit process
//{{{ removeDockableWindow() method
//{{{ ensure we don't have empty space at the bottom or top, etc
// Don't beep if the user presses some // key we don't know about unless a // prefix is active. Otherwise it will // beep when caps lock is pressed, etc.
// has body, else just for side effects
// install user-selected packages
//{{{ setMode() method
//{{{ LineContext class
// Make a tmp namespace to hold the original constructor args for // use in eval of the parameters node
// Get the instance initializer block from the static This 
"/* This protects against stupid people (like me)		 * doing stuff like buffer.setMode(jEdit.getMode(...)); */"
//{{{ addEntry() method
// Set the instance This reference on the instance
//{{{ markTokens() method
//{{{ Indentation
//{{{ getProperties() method
//{{{ removeTrailingWhiteSpace() method
// no whitespace
//{{{ getPosition() method
//{{{ shiftIndentLeft() method
//{{{ setIconPath() method
//{{{ shiftIndentRight() method
"/**    * Parse a conditional section.    * [63] conditionalSect ::= includeSect || ignoreSect    * [64] includeSect ::= '<![' %'INCLUDE' '[' (%markupdecl*)* ']]>'    * [65] ignoreSect ::= '<![' %'IGNORE' '[' ignoreSectContents* ']]>'    * [66] ignoreSectContents ::= ((SkipLit | Comment | PI) -(Char* ']]>'))    *                           | ('<![' ignoreSectContents* ']]>')    *                           | (Char - (']' | [<'""]))    *                           | ('<!' (Char - ('-' | '[')))    * *NOTE: the '<![' has already been read.    * *TODO: verify that I am handling ignoreSectContents right.    */"
//{{{ getDockableTitle() method
// Begin BeanShell Modification - super constructor args // null node, null callstack, ParseException knows where the error is.
//{{{ removeLayoutComponent() method
//{{{ _getDirectoryEntry() method
//{{{ _listDirectory() method
// blank line
// computes the true beginning stack size of this successor block
//{{{ addDockableWindow() method
//{{{ toggleDockableWindow() method
//{{{ getValueAt() method
//{{{ closeCurrentArea() method
// SILLY: allow for anti-aliased characters' "fuzz"
//{{{ hideDockableWindow() method
// the search works by starting the anchor (first character // of the pattern) at the initial offset. as long as the // anchor is far enough from the enough of the text for the // pattern to match, and until the pattern matches, we // compare the pattern to the text from the last character // to the first character in reverse order. where a character // in the pattern mismatches, we use the two heuristics // based on the mismatch character and its position in the // pattern to determine the furthest we can move the anchor // without missing any potential pattern matches.
// do some platforms throw exceptions if the file does not exist // when we ask for the canonical path?
//{{{ isDockableWindowVisible() method
//{{{ _canonPath() method
// No matter what happends... stops us from leaving buffer // in a bad state
//{{{ getDockableWindow() method
"/*    * Ordinals for various reasons why an Error of this type can be thrown.    */"
//{{{ getViews() method
//{{{ DirectoryEntryCompare class
"// last possible start position of a match with this pattern; // this is negative if the pattern is longer than the text // causing the search loop below to immediately fail //int last_anchor = reverseSearch //	? offset + pattern.length - 1 //	: length - pattern.length;"
// position variable for pattern test position
//{{{ isDockableWindowDocked() method
//{{{ getDefaultColorFor() method
// true number of bytes to be added (or removed) from this // instruction = (future number of padding bytes - current number // of padding byte) - previously over estimated variation = // = ((3 - newOffset%4) - (3 - u%4)) - u%4 // = (-newOffset%4 + u%4) - u%4 // = -(newOffset & 3)
// access flags
//    szptr = zptr;
//{{{ addLayoutComponent() method
//{{{ getScreenLineCount() method
//{{{ getAllPluginEntries() method
//{{{ PluginOptions constructor
// this makes HyperSearch much faster
"/* When doing a 'save as', the path to save to (path)		 * will not be the same as the buffer's previous path		 * (buffer.getPath()). In that case, we want to create		 * a backup of the new path, even if the old path was		 * backed up as well (BACKED_UP property set) */"
//{{{ getWhat() method
//{{{ getLeftDockingArea() method
// initially zero, so that we always show the first message
//{{{ getTopDockingArea() method
//{{{ close() method
// 3 = loop again, 2 = loop ended, 1 = last pass, 0 = done
// we don't care
"/*	 *  the 'skip' array is used to determine for each index in the	 *  hashed alphabet how many characters can be skipped if	 *  a mismatch occurs on a characater hashing to that index.	 */"
//{{{ finishResizing() method
//{{{ SettingsActionHandler class
//{{{ setResizePos() method
// I'm not sure when this can happen, // but it does sometimes, witness the // jEdit bug tracker.
//{{{ getColumnOnOtherLine() method
/* otherwise just insert the text */
"/** * A constant pool item. Constant pool items can be created with the 'newXXX' * methods in the {@link ClassWriter} class. */"
//{{{ getRightDockingArea() method
// Insert the attributes, if any.
// we remember which classes we don't exist // because BeanShell tries loading all possible // <imported prefix>.<class name> combinations
// since subsequent macros with the same name are ignored, // load user macros first so that they override the system // macros.
// correctly handle text flavor + file list flavor // + text area read only, do an or of all flags
// // Constructor //
// for toolbar display
"/*         * Now the selectors         */"
//{{{ paintChildren() method
// begin ActionListener implementation
//{{{ DropHandler class
//{{{ getShortcut() method
//{{{ Entry constructor
// This is necessary to have a file opened from the Finder // before jEdit is running set as the currently active // buffer.
// ask whether to override that other shortcut
// Make it executable
// Tags plugin likes to call this method at times other than // startup; so we need to fire a SearchSettingsChanged to // notify the search bar and so on.
// I'm lazy
//{{{ layoutContainer() method
//{{{ OptionsDialog constructor
//{{{ ModeProperties constructor
// True if a \n was read after a \r. Usually // means this is a DOS/Windows file
// Pass 2: redistribute free space
// // When we get here we have EITHER: //   o An empty "assemble" buffer. //   o No bytes to write (numToWrite == 0) //
//{{{ Lay out docking areas
"/* we don't do this in Buffer.insert() so that				   we can insert multiple files at once */"
////////////////////////////////////////////////////////////////////// // XML query routines. //////////////////////////////////////////////////////////////////////
// don't want 'New File' to create a read only buffer // if current file is on SQL VFS or something
////////////////////////////////////////////////////////////////////// // Constructors. ////////////////////////////////////////////////////////////////////////
//System.err.println("foldLevelChanged " + (start-1) + " to " + textArea.getLastPhysicalLine() + "," + end);
//{{{ Lay out dependent buttons
/* equal to first visible line */
// // Elements //
//{{{ BufferChangeHandler class
//{{{ // lazily create skip and suffix arrays for either the // search pattern, or the reversed search pattern
// No variable or class found in 'this' type ref. // if autoAllocateThis then create one; a child 'this'.
//{{{ Position tool bars if they are managed by us
// if the buffer count becomes 0, then it is guaranteed to // become 1 very soon, so don't do anything in that case.
// only for docked
// wait for it to be painted to ensure progress is updated // continuously
"/* this property is only loaded and saved if				 * the 'current buffer' file set is selected.				 * otherwise, it defaults to on. */"
"/*		Note: bshmethod needs to re-evaluate arg types here		This is broken.	*/"
// if strictJava mode, check for loose parameters and return type
// only set if open
// WORD END OPERATOR  //  \> if ????
//{{{ adjustDockingAreasToFit() method
// -------------------------------------------------------------------------- // Methods to compute offsets and to manage forward references // --------------------------------------------------------------------------
//{{{ invalidateLayout() method
// (?:) // *?,??,+?,{}? // (?=)(?!) // \A,\Z // \d,\D,\w,\W,\s,\S within [] // (?#)
//{{{ getLayoutAlignmentX() method
// if we got here, no unused display manager in list
//{{{ TextAreaSelection class
//{{{ getLineEndOffset() method
"/*	 *  a good introduction to the Boyer-Moore fast string matching	 *  algorithm may be found on Moore's website at:	 *	 *   http://www.cs.utexas.edu/users/moore/best-ideas/string-searching/	 *	 */"
// we don't know the right hand side of the assignment yet. // has at least one setter of the right name?
//{{{ getLayoutAlignmentY() method
// if chain returns false, it "rejected" the token due to // an optimization, and next was combined with lastToken
//{{{ recordInput() method
//{{{ paintChunkBackgrounds() method
//{{{ StyleTableModel constructor
// // QuickNotepadActions implementation //
/*autoalloc*/
// JSR_W
// WORD BREAK OPERATOR //  \b if ????
// if at least one property listed here is true, // load the plugin
//////////////////////////////////////////////////////////////////////// // Constants. ////////////////////////////////////////////////////////////////////////
// multiple files w/ word bonus
/* XXX */
// send full range of events to avoid breaking plugins
"/*     * always: in the range 0 .. 9.     * The current block size is 100000 * this number.     */"
// -------------------------------------------------------------------------- // Utility methods: instruction resizing (used to handle GOTO_W and JSR_W) // --------------------------------------------------------------------------
"/*			If we've fallen through here we are no longer resolving to			a class type.		*/"
//{{{ Position center (edit pane, or split pane)
// the +1's ensure that 99 gets 3 digits, 103 gets 4 digits, // and so on.
//{{{ getDefaultProperty() method
// 2nd step: // copies the bytecode of the method into a new bytevector, updates the // offsets, and inserts (or removes) bytes as requested.
//{{{ loadProps() method
//{{{ moveDown() method
// getClassInstance() throws exception if not there
// can't override prefix shortcuts
//{{{ showBufferSwitcher() method
// returns false with outdated cache
// no duplicates, check for all-whitespace string
"/*                 * Set group start & end marks.                 */"
//{{{ Mode constructor
//{{{ Private members // used to mark words to ignore (see constructor for the list)
// we might have been closed as a result of // the above
// tool bar and status bar gets added in propertiesChanged() // depending in the 'tool bar alternate layout' setting.
"/*			Is it a class name?			If we're just starting eval of name try to make it, else fail.		*/"
// Java object
// skip throws
// Do not evaluate methods this() or super() in class instance space // (i.e. inside a constructor)
// Set the default entities here.
"/*         * Decide how many coding tables to use         */"
// Set up the input variables
// -------------------------------------------------------------------------- // Direct conversion from classes to type descriptors, // without intermediate Type objects // --------------------------------------------------------------------------
// private to prevent invocation with param that isn't a primitive-wrapper
//{{{ getLastPhysicalLine() method
"/*             * Generate an initial set of coding tables             */"
// endIndex is now position at a ')','\)'  // nextIndex is end of string or position after ')' or '\)'
//{{{ isCellEditable() method
// run jEditLauncher installation
// -1 so that the last isn't checked
// For operator-assign operations save the lhs value before evaluating // the rhs.  This is correct Java behavior for postfix operations // e.g. i=1; i+=i++; // should be 2 not 3
// nameSpaceChanged() on new variable addition
//{{{ getExtendedState() method
"/* replaceBtn = new JButton(jEdit.getProperty(""search.replaceBtn""));		replaceBtn.setMnemonic(jEdit.getProperty(""search.replaceBtn.mnemonic"")			.charAt(0));		grid.add(replaceBtn);		replaceBtn.addActionListener(actionHandler); */"
// Trying to cast primitive to an object type // Primitive.NULL can be cast to any object type
// forward jump
//{{{ addRuleSet() method
// number of nodes on stack // current mark
// set an untyped variable directly in the block
//}}} //{{{ Clockwise rotation
// ...and adds it to the successor list of the currentBlock block
// remove action sets, dockables, etc so that user doesn't // see the broken plugin
// Special handling at end of input for e.g. "$"
// create app start script
// replaces old bytecodes with new ones
// find end of subexpression
// freeze the callstack for the stack trace.
//{{{ updateUI() method
//{{{ getTokenMarker() method
//{{{ getTreeCellRendererComponent() method
// linked list of tokens (sort of -- some closed loops can exist)
// appends the [head ... tail] list at the beginning of the pool list
"/*                 * Calculate the cost of this group as coded                 * by each of the coding tables.                 */"
// // Base external identifiers for resolution. //
// removes b from the pool
// the problem with this is that if we have two edit panes // looking at the same buffer and the file is reloaded both // will jump to the same location
// adds the previous Edge to the list of Edges used by this CodeWriter
// returns the positions of the resized instructions
// later on we need to know if certain code is called from // the main thread
//{{{ saveGeometry() method
//}}} //{{{ Insert the expansion
// JDK 1.4 adds methods to obtain a drive letter label and // list the desktop on Windows
//{{{ GZipped setting
//{{{ setFoldLevel() method // Also sets 'fold level valid' flag
//}}} //{{{ Bottom...
/* do nothing! */
// Push nulls for various args of invokeMethod // interpreter // callstack // callerinfo
"/* call sendBreak after fixed number of			 * lines of stdout are read			 */"
//{{{ DockableLayout class
// get the title here, not in the factory constructor, // since the factory might be created before a plugin's // props are loaded
// Note: it's ok to cache class resolution here because when the class // space changes the namespace will discard cached names.
"/*                 * Increment the symbol frequencies for the selected table.                 */"
//{{{ getCheckedValues() method
//{{{ DummyRenderer class
// If only one new file is open which is clean, just close // it, which will create an 'Untitled-1'
// backward jump
//{{{ endElement() method
//{{{ createDockableWindow() method
"/* substitute result of matching the rule start				 * into the end string.				 *				 * eg, in shell script mode, <<\s*(\w+) is				 * matched into \<$1\> to construct rules for				 * highlighting read-ins like this <<EOF				 * ...				 * EOF				 */"
//{{{ setTokenMarker() method
// Order these from longest to shortest // Start by assuming longest (more repeats)
//{{{ isManagingFocus() method
// This String will be returned by getVersion()
// check whether this shortcut already exists
// remember old values, in case action changes them
//{{{ getSymbolicName() method
// Big enough for a \r\n pair // lookBehind[0] = most recent // lookBehind[1] = second most recent
// Define the new class in the classloader
// Skip whitespace at the end.
// Is this it? // Is the class public or can we use accessibility?
"/*                 * copy 2                 */"
/* we don't handle key pressed A+ */
// - don't do these checks while a save is in progress, // because for a moment newModTime will be greater than // oldModTime, due to the multithreading // - only supported on local file system
// resolve symlinks to avoid loops
// true (non relative) max stack size
// Create the class static namespace
// so that we don't see the same tip again if the user // clicks 'Next Tip'
/* --- End static members --- */
// Precalculate these so we don't pay for the math every time we // need to access them.
//{{{ handleNoWordBreak() method
// updates current stack size (max stack size unchanged because stack // size variation always negative or null)
// Method invocation // (LHS or non LHS evaluation can both encounter method calls)
//{{{ getNextRequest() method
// on by default
"/*         * And finally, the block data proper         */"
// fix for "[ 865589 ] 0-byte files should open using // the default line seperator"
//{{{ doAWTRequest() method
// if the file size is not known, start with a resonable // default buffer size
"/*                 * Process big buckets, starting with the least full.                 */"
"/*             * The main sorting loop.             */"
// create a DirectoryEntry manually // instead of using _vfs._getDirectoryEntry() // since so many VFS's have broken // implementations of this method
// fill in defaults for these from system properties if the // corresponding buffer.XXX properties not set
// check to see if the instance has already been initialized // (the case if using a this() alternate constuctor)
// the start and end flags will be wrong with reverse search enabled, // but they are only used by the regexp matcher, which doesn't // support reverse search yet. // // REMIND: fix flags when adding reverse regexp search.
// Java does not support this encoding so // we have to handle it manually.
// just as if Enter was pressed in another // text field
// we didn't have a component previously, so // create a border
"/*	Gather modifiers for a class, method, or field.	I lookahead is true then we are being called as part of a lookahead and we	should not enforce any rules.  Otherwise we validate based on context	(field, method, class)*/"
//{{{ WorkThreadHandler class
// this ensures that undo can clear the dirty flag properly // when all edits up to a save are undone
"/*         * Now another magic 48-bit number, 0x177245385090, to         * indicate the end of the last block.  (sqrt(pi), if         * you want to know.  I did want to use e, but it contains         * too much repetition -- 27 18 28 18 28 46 -- for me         * to feel statistically comfortable.  Call me paranoid.)         */"
/*LDC2_W*/
"/*             * Transmit the mapping table.             */"
"/*			Is it a bsh script variable reference?			If we're just starting the eval of name (no base object)			or we're evaluating relative to a This type reference check.		*/"
//{{{ updateAssignedTo() method
// begins a new current block, // resets the relative current and max stack sizes
// Stop script kiddies from opening the edit // server port and just leaving it open, as a // DoS
// Anchor position refers to the index into the source input // at which the matching operation began. // This is also useful for the ANCHORINDEX option.
// show "remove" button
// Either class sun.tools.javac.methods.Main or // com.sun.tools.javac.methods.Main must be there:
//{{{ getFocusTraversalKeysEnabled() method
//Remember to make this an option later //NSApplication.sharedApplication().hide(jEdit.getPlugin("MacOSPlugin"));
////////////////////////////////////////////////////////////////////// // High-level I/O. //////////////////////////////////////////////////////////////////////
// GOTO_W
// ... and we save them in order not to recompute them in the future
// check for match inside line
//{{{ setShortcut() method
// Try to load the module // don't refer to it directly here or we're dependent upon it
// Fail silently, since we may be using UFS
// the above sizes have not been computed yet, so we compute them...
// // I/O information. // // current reader // current input stream // current line number // current column number // type of input source // stack of input soruces // current external entity // current character encoding. // how many bytes read from current source.
// updates the instructions addresses in the // catch, local var and line number tables
// no stack change, but end of current block (with one new successor)
// types for NEWARRAY
// analyses the successors of the block
// ends current block (with one new successor)
//{{{ getPluginIcon() method
// Some Java versions return the clipboard // contents using the native line separator, // so have to convert it here
// Push the name of the method as a constant
// user cancelled???
//case Constants.PUTFIELD:
"/*         * The back end needs a place to store the MTF values         * whilst it calculates the coding tables.  We could         * put them in the zptr array.  However, these values         * will fit in a short, so we overlay szptr at the         * start of zptr, in the hope of reducing the number         * of cache misses induced by the multiple traversals         * of the MTF values when calculating coding tables.         * Seems to improve compression speed by about 1%.         */"
// in case macro file name has a space in it. // spaces break the view.toolBar property, for instance, // since it uses spaces to delimit action names.
// now that we know how many chars there are, get the width.
// -------------------------------------------------------------------------- // Static initializer // --------------------------------------------------------------------------
// ignore if already added. // see comment in loadMacros().
// computes the stack size variation
// clone() separates a single match from the chain
// changes the opcode of the jump instruction, in order to be able to // find it later (see resizeInstructions in CodeWriter). These // temporary opcodes are similar to jump instruction opcodes, except // that the 2 bytes offset is unsigned (and can therefore represent // values from 0 to 65535, which is sufficient since the size of a // method is limited to 65535 bytes).
// // EBComponent implementation //
//throw new CError();
// ask whether to remove the old shortcut
// Wait for pending I/O requests
//{{{ getKeyBinding() method
// over estimation of the number of bytes to be added to this // instruction = 3 - current number of padding bytes = 3 - (3 - // u%4) = u%4 = u & 3
// // Attribute methods //
"/*     * If you are ever unlucky/improbable enough     * to get a stack overflow whilst sorting,     * increase the following constant and try     * again.  In practice I have never seen the     * stack go above 27 elems, so the following     * limit seems very generous.     */"
// helper method to get Font from plugin properties
// throw new IOException("Invalid block size");
// on insert, start search from beginning of // current match. This will continue to highlight // the current match until another match is found
//for backwards compatibility, the color variable is stored also as a property
// -------------------------------------------------------------------------- // Utility methods: control flow analysis algorithm // --------------------------------------------------------------------------
// Useful for debugging purposes
// -------------------------------------------------------------------------- // Other public methods // --------------------------------------------------------------------------
//{{{ ensureCapacity() method
//}}} //{{{ Paint bracket scope
//{{{ synchronizeMultiFileSettings() method
// If the param is typed check assignability
// Start with a little cheat -- in most // cases, the entire sequence of // character data will already be in // the readBuffer; if not, fall through to // the normal approach.
// Look for a declaration subset.
//{{{ append() method
// allocates a byte vector of this size, in order to avoid unnecessary // arraycopy operations in the ByteVector.enlarge() method
// computes the real size of the bytecode of this class
"//		Log.log(Log.DEBUG,this,""Running in AWT thread: "" + request);"
// -------------------------------------------------------------------------- // Implementation of the ClassVisitor interface // --------------------------------------------------------------------------
//{{{ goToNextWord() method
// Find longest match of them all to observe leftmost longest
// we were the first to add an update; // add update sending runnable to AWT // thread
//{{{ getCaretLine() method
//{{{ smartEnd() method
//{{{ filesActivated() method // canDoubleClickClose set to false when ENTER pressed
//{{{ getSelectedText() method
//{{{ getStructureMatch() method
//{{{ goToStartOfLine() method
// case MANA_INSN:
// check whether the other shortcut is the alt. shortcut
// for compatibility with older jEdit versions
// to hide current line highlight
// we have binding foo // but user asks to remove foo bar?
//{{{ getNonAlphaNumericChars() method
//{{{ getStructureHighlightColor() method
// impl note: since multiple searches now allowed, // extra level in hierarchy
// Check for backup.directory, and create that // directory if it doesn't exist
"/*				If this was a literal ""super"" reference then we allow recursion				in setting the variable to get the normal effect of finding the				nearest definition starting at the super scope.  On any other				resolution qualified by a 'this' type reference we want to set				the variable directly in that scope. e.g. this.x=5;  or 				someThisType.x=5;								In the old scoping rules super didn't do this.			*/"
//{{{ setSortType() method
// the entire save operation can be aborted...
//{{{ loadMenuItem() method
// proxy port
// skips 0 to 3 padding bytes
//{{{ Delegate methods
//{{{ getPhysicalLineOfScreenLine() method
// when the text area switches to us, it will do // a reset anyway
// opcodes                  // visit method (- = idem)
//{{{ loadMenu() method
// invalid regexp, ignore // return true to avoid annoying beeping while // typing a re
// special case: no current development version
// since recentBuffer will be set to the one that // was closed
// old plugins expected jEdit 4.1-style // behavior, where a PropertiesChanged // was sent after plugins were started
// this is handled a little differently from other jEdit settings // as the splash screen flag needs to be known very early in the // startup sequence, before the user properties have been loaded
"// If recurse, set global untyped var, else set it here.	 //NameSpace varScope = recurse ? getGlobal() : this; // This modification makes default allocation local"
//{{{ Screen line stuff
// synchronized
// Check for PCDATA alone.
// check escape rule of parent
// index+1 works for [^abc] lists, not for generic lookahead (--> index)
// still have to call this even if it equals the // old one so that the offset manager sets the // validity flag!
// The object instance has already been initialzed by another // constructor.  Fall through to invoke the constructor body below.
"/* if the VFS supports renaming files, we first			 * save to #<filename>#save#, then rename that			 * to <filename>, so that if the save fails,			 * data will not be lost.			 *			 * as of 4.1pre7 we now call vfs.getTwoStageSaveName()			 * instead of constructing the path directly			 * since some VFS's might not allow # in filenames.			 */"
"//item.setImage(NSWorkspace.sharedWorkspace().iconForFile( //	buffs[i].getPath()));"
// Figure out if this is a start tag // or an empty element, and dispatch an // event accordingly.
// loop until the subset ends
"/* read() and write() must be kept perfectly in sync...		 * its a very simple file format. doing it this way is		 * faster than serializing since serialization calls		 * reflection, etc. */"
// If it had a different type throw error. // This allows declaring the same var again, but not with // a different (even if assignable) type.
// add the JARs before checking deps since dep check might // require all JARs to be present
//{{{ InputPane class
// we don't need two identical shortcuts
"/*		Our children are a prefix expression and any number of suffixes.		<p>		We don't eval() any nodes until the suffixes have had an		opportunity to work through them.  This lets the suffixes decide		how to interpret an ambiguous name (e.g. for the .class operation).	*/"
//{{{ KeyBinding class
// put forNameSpace it on the top of the stack // Note: it's important that there is only one exit point from this // method so that we can swap back the namespace.
// -------------------------------------------------------------------------- // Fields // --------------------------------------------------------------------------
//{{{ addOptionGroup() method
//{{{ addMarker() method
//{{{ FontSelectorDialog class
//{{{ setEOLMarkerColor() method
// we keep the first non-null frc we get, since sometimes // we get invalid ones on subsequent pages on Windows
// UCS-2 without a BOM must begin with "<?XML" // 0x3c 0x00 0x3f 0x00: UCS-2, little-endian, no byte-order mark
// auto-detect encoding within the gzip stream.
//{{{ run() method
//{{{ _setScreenLineCount() method
//{{{ this ensures that the text area's look is slightly // more consistent with the rest of the metal l&f. // while it depends on not-so-well-documented portions // of Swing, it only affects appearance, so future // breakage shouldn't matter
"/* 				Try toObject() which knows how to work through inner classes				and see what we end up with 			*/"
// Interpreter.debug("Simple var LHS...");
// empty line. inherit previous line's fold level
// Superclass method invocation? (e.g. super.foo())
/* in collapsed range */
"/* Having all the info packed into an int is not very OO and makes the	 * code somewhat more complicated, but it saves a lot of memory.	 *	 * The new document model has just 12 bytes of overhead per line.	 * LineContext instances are now internalized, so only a few should	 * actually be in the heap.	 *	 * In the old document model there were 5 objects per line, for a	 * total of about 100 bytes, plus a cached token list, which used	 * another 100 or so bytes. */"
"/*			Some duplication for ""super"".  See notes for ""this"" above			If we're in an enclsing class instance and have a superclass			instance our super is the superclass instance.		*/"
// skips instruction
// if one line's chunks are invalid, remaining lines are also // invalid
"/*		Perform a suffix operation on the given object and return the 		new value.		<p>		obj will be a Node when suffix evaluation begins, allowing us to		interpret it contextually. (e.g. for .class) Thereafter it will be 		an value object or LHS (as determined by toLHS).		<p>				We must handle the toLHS case at each point here.		<p>	*/"
//{{{ Marker constructor
// pushes this successor onto the stack
/*LDC_W*/
//{{{ _setContent() method
//{{{ redo() method
// If type already assignable no cast necessary // We do this last to allow various errors above to be caught. // e.g cast Primitive.Void to Object would pass this
// copy text before gap
// remove the bsh:// // get the index of the : between the host and the port is located
// getAssignable would catch this for typed param
// If lastWasCR is true, // we just read a \r followed // by a \n. We specify that // this is a Windows file, // but take no further // action and just ignore // the \r.
// Get the type by constructing a prototype array with // arbitrary (zero) length in each dimension. // int array default zeros
// That's it, we have a match!
// queue of undos. last is most recent, first is oldest
//{{{ selectPane() method
// give all text areas the same font
// this ensures that undo can clear // the dirty flag properly when all // edits up to a save are undone
//{{{ save() method
// Found an existing variable here (or above if recurse allowed)
// note that if firstLine == lastLine, loop does not // execute
// The lock is our declaring namespace's This reference // (the method's 'super').  Or in the case of a class it's the // class instance.
//{{{ setBuffer() method
// Because the clipRect's height is usually an even multiple // of the font height, we subtract 1 from it, otherwise one // too many lines will always be painted.
//{{{ getFoldLineStyle() method
// computes the true (non relative) max stack size of this block
// Set untyped variable // untyped param
//{{{ paintValidLine() method
// Write simple script
//{{{ setLineHighlightColor() method
//{{{ VFS constructor
// This should not happen with checkOnly true
//{{{ Remove constructor
// Unwrap target exception.  If the interface declares that  // it throws the ex it will be delivered.  If not it will be  // wrapped in an UndeclaredThrowable
//{{{ unloadPluginJAR() method
//{{{ If nothing entered, show search and replace dialog box
//{{{ preContentRemoved() method
// cwd not implemented in this version
//super(); //}}}
/*@bgen(jjtree) CastExpression */
"/*			Evaluate our prefix if it needs evaluating first.			If this is the first evaluation our prefix mayb be a Node 			(directly from the PrimaryPrefix) - eval() it to an object.  			If it's an LHS, resolve to a value.			Note: The ambiguous name construct is now necessary where the node 			may be an ambiguous name.  If this becomes common we might want to 			make a static method nodeToObject() or something.  The point is 			that we can't just eval() - we need to direct the evaluation to 			the context sensitive type of result; namely object, class, etc.		*/"
"/*         * A 6-byte block header, the value chosen arbitrarily         * as 0x314159265359 :-).  A 32 bit value does not really         * give a strong enough guarantee that the value will not         * appear by chance in the compressed datastream.  Worst-case         * probability of this event, for a 900k block, is about         * 2.0e-3 for 32 bits, 1.0e-5 for 40 bits and 4.0e-8 for 48 bits.         * For a compressed file of size 100Gb -- about 100000 blocks --         * only a 48-bit marker will do.  NB: normal compression/         * decompression do *not* rely on these statistical properties.         * They are only important when trying to recover blocks from         * damaged files.         */"
// Set up a snapshot of the current // input source.
//in.close();
//{{{ addInstall() method
//{{{ write() method
//{{{ startPlugin() method
//{{{ uninit() method
//{{{ menuDeselected() method
//{{{ ShowFileAction class
// // Buffer for undecoded raw byte input. //
// cache the fact that this is a static method invocation on this class
//{{{ performOperationsInAWTThread() method
//{{{ RemoveAllTreeNodesAction class
// Invoke the method This.invokeMethod( name, Class [] sig, boolean )
// we use a custom JRadioButton subclass that returns // false for isFocusTraversable() so that the user can // tab from the search field to the replace field with // one keystroke
/* end of prev expanded range */
//{{{ paintLine() method
"/*         * Assign actual codes for the tables.         */"
// this constructor is the value of the hash table
// To avoid any problems if components are added or removed // while the message is being sent
// Pass 3: layout components
// in case saved geometry is too small
"/*			--------------------------------------------------------			After this point we're definitely evaluating relative to			a base object.			--------------------------------------------------------		*/"
// Macros
/* This will fire the PROPERTIES_CHANGED event */
// not a class (or variable per above)
"/*				Keep adding parts until we have a class 			*/"
//{{{ updateSize() method
//{{{ OptionTreeModel class
// previous round produced null
//{{{ Soft tabs
//{{{ getFontProperty() method
// Not found -- we'll have to add it.
// this model may not be changed by the TableCellEditor
//setFont(new Font("Dialog",Font.BOLD,10));
"/*			Do some basic validity checks.		*/"
//{{{ Line separator
// returns false if no such pane exists; calling with null // param selects first option pane found
//{{{ Indent size
//&& thisNameSpace.getParent().classInstance != null
// previous round produced void
//{{{ Fold mode
// Do we have to grow the bucket?
//{{{ FontSelector constructor
//{{{ Wrap mode
// find the enclosing class instance space of the class name
// Class qualified 'this' reference from inner class. // e.g. 'MyOuterClass.this'
// Stop if there are no more tuples.
//{{{ setAntiAliasEnabled() method
//{{{ isAntiAliasEnabled() method
// Stop when we hit a null index.
// If they're the same length, // check for a match. // If the loop finishes, 'index' will // contain the current bucket // position.
/* M+ discarded by key event workaround! */
//{{{ updateText() method
//{{{ getZipFile() method
//{{{ createTextFieldAndListPanel() method
// Get the bucket.
//{{{ updatePreview() method
//{{{ addTranslation() method
//{{{ getFontList() method
//{{{ getSelectedFont() method
/* fonts = getToolkit().getFontList(); */
//{{{ remove() method
//{{{ translateKeyEvent() method
// get the previous context (see notes for this class)
// inner class?
//{{{ parseKey() method
//{{{ getSymbolicModifierName() method
// static field?
// length access on array? 
// super is now the closure's super or class instance
"//Log.log(Log.DEBUG, MiscUtilities.class, //	""- is not in system classpath.""); //}}}"
// if we get here we have failed
/* not a field */
// early return
//{{{ getBorderInsets() method
//{{{ show() method
// removing last component, so remove border
//{{{ ResizeMouseHandler class
//{{{ register() method
//{{{ getCurrent() method
//{{{ Create button
//{{{ Key class
//{{{ showMostRecent() method
//{{{ setDimension() method
"/* Defer to whoever loaded us (such as JShell,			 * Echidna, etc) */"
//{{{ unregister() method
//{{{ Button box setup
//{{{ getDimension() method
"/*			Doing instanceof?  Next node is a type.		*/"
//{{{ paintBorder() method
//{{{ sortDockables() method
//{{{ getDockables() method
//{{{ MenuMouseHandler class
// remember the most recent dockable
//{{{ paintVertBorder() method
//case 3:
//{{{ DockablePanel class
/* Try straightforward class name first */
//{{{ paintHorizBorder() method
//{{{ isBorderOpaque() method
// "var" means untyped, return null class
//{{{ DockBorder constructor
//{{{ getWindowContainer() method
//{{{ getResourceAsStream() method
//{{{ updateColors() method
// Null interpreter and callstack references. // class only resolution should not require them.
// Simple (non-compound) variable assignment e.g. x=5;
// couldn't resolve it
//{{{ addLayoutComponent() method //}}}
//{{{ getIconWidth() method
/*autoallocthis*/
//{{{ paintIcon() method
// Field e.g. foo.bar=5;
//height = (int)glyphs.getLogicalBounds().getHeight();
//{{{ DockablePanel constructor
// nothing 'cept close box
//{{{ No rotation
//}}} //{{{ Left...
//{{{ getResource() method
// found a non-backslash char.
"/*          We'll print our banner using eval(String) in order to          exercise the parser and get the basic expression classes loaded...          This ameliorates the delay after typing the first statement.        */"
"/*				Primitive (number or void) is not normally an instanceof				anything.  But for internal use we'll test true for the				bsh.Primitive class.  				i.e. (5 instanceof bsh.Primitive) will be true			*/"
//{{{ Top...
//{{{ getVirtualWidth() method
// -------------------------------------------------------------------------- // Conversion to type descriptors // --------------------------------------------------------------------------
//{{{ getOffsetOfVirtualColumn() method
//{{{ getResourceAsPath() method
//{{{ getOpenParenIndent() method
// collapsed
// dissallow assignment to magic fields
//}}} //{{{ Right...
// e.g. this.x=5;  or someThisType.x=5;
// Finished eval and its a class.
// can't happen?
//{{{ getBooleanProperty() method
"/*		object is a java.lang wrapper for boolean, char, or number type	*/"
// ALTERNATION OPERATOR //  \| or | (if RE_NO_BK_VBAR) or newline (if RE_NEWLINE_ALT) //  not available if RE_LIMITED_OPS is set
//{{{ removeBufferFromList() method
// -------------------------------------------------------------------------- // Fields for the control flow graph analysis algorithm (used to compute the // maximum stack size). A control flow graph contains one node per "basic // block", and one edge per "jump" from one basic block to another. Each node // (i.e., each basic block) is represented by the Label object that // corresponds to the first instruction of this basic block. Each node also // stores the list of its successors in the graph, as a linked list of Edge // objects. // --------------------------------------------------------------------------
//{{{ EnhancedMenuItem constructor
// Start copying to the left.
// Begin Cached result structures // These are optimizations 
/*, ReflectError, InvocationTargetException*/
//{{{ insert() method
// EnhancedDialog implementation
//{{{ setBorderPainted() method
// this one only finds public (and in interfaces, etc.)
// overflow character from last data chunk.
"/* A definite node is constructed from a specified number of     children.  That number of nodes are popped from the stack and     made the children of the definite node.  Then the definite node     is pushed on to the stack. */"
// Try explicitly imported class, e.g. import foo.Bar;
// don't do this in static{} since we need jEdit.initMisc() // run first so we have the jeditresource: protocol
//{{{ recordMacro() method
"/* if value is null:		 * - if default is null, unset user prop		 * - else set user prop to """"		 * else		 * - if default equals value, ignore		 * - if default doesn't equal value, set user		 */"
//{{{ LogViewer constructor
// the first element of pp is the abbrev itself
//{{{ setEnabled() method
// SUBEXPRESSIONS //  (...) | \(...\) depending on RE_NO_BK_PARENS
//{{{ loadIfNecessary() method
// -------------------------------------------------------------------------- // Implementation of the CodeVisitor interface // --------------------------------------------------------------------------
//{{{ LogList class
//{{{ checkForExistingAbbrev() method
//{{{ paint() method
//{{{ ResultIcon class
// try static method
//{{{ parseKeyStroke() method
//{{{ isOpaque() method
// Normalise all other whitespace to // a single space.
//{{{ EditAbbrevDialog constructor
//}}} //{{{ Handle ordinary abbrevs
//{{{ Maybe show add abbrev dialog
// Do we have the necessary jdk1.2 packages and optional package?
//{{{ getGlobalAbbrevs() method
// I guess this is when we pass it as an argument? // Setting locally
// not a comment // create RE subexpression as token.
//{{{ setProperties() method
//{{{ getSize() method
//{{{ setGlobalAbbrevs() method
//{{{ removeToolBar() method
// F10 should be passed on, but C+e F10 // shouldn't
//{{{ saveHistory() method
// // Hash table of attributes found in current start tag. //
/*ignore*/
// Generate a hash code.
// UNMATCHED RIGHT PAREN // ) or \) throw exception if // !syntax.get(RESyntax.RE_UNMATCHED_RIGHT_PAREN_ORD)
// Place the toolbar at the bottom of the group
// need to carry over file name and first line globs because they are // not given to us by the XMode handler, but instead are filled in by // the catalog loader.
//{{{ addItem() method
//{{{ loadHistory() method
//{{{ setCurrentBindings() method
// Stores prefix name in bindings hashtable
//{{{ ToolBarManager constructor
// select the appropriate tree node.
//{{{ getElementAt() method
//{{{ HelpSearchPanel constructor
// OK, do it by the book.
// set proxy authentication
// Expand buffer if necessary.
// check the next character
// MATCH-ANY-CHARACTER OPERATOR (except possibly newline and null) //  .
//{{{ JARClassLoader constructor
// no need to do this for macros!
// Skip whitespace at the start.
//{{{ accept() method
// system id
//{{{ Instance members
// Return the value.
//{{{ ResultCompare class
// we later use this to compute a relative ranking
// end EnhancedDialog implementation
//{{{ HelpViewer constructor
//{{{ getShortURL() method
//{{{ gotoURL() method
// public id
//{{{ ResultRenderer class
//{{{ queueTOCReload() method
//{{{ getBaseURL() method
// Literals never have line ends
//{{{ loadTOC() method
//{{{ HelpFile class
// Read the first character.
//{{{ evalSelection() method
//{{{ showEvaluateDialog() method
//{{{ showEvaluateLinesDialog() method
//{{{ LinkHandler class
// reset default cursor so that the hand cursor doesn't // stick around
/*checkonly*/
//{{{ indexJAR() method
//{{{ HelpIndex constructor
// the TOC pane looks up user's guide URLs relative to the // doc directory...
//{{{ applicationShouldHandleReopen() method
// Try static and then object, if allowed // Note that the Java compiler should not allow both.
// ZERO-OR-MORE REPEAT OPERATOR //  *
// see what JARClassLoader this class is in
//{{{ indexEditorHelp() method
// search all of its interfaces breadth first
// Find the delimiter.
//{{{ hyperlinkUpdate() method
// Read the literal.
//{{{ indexDirectory() method
//{{{ PropertyChangeHandler class
//{{{ createNode() method
//{{{ ignoreWord() method
/*  || lname.endsWith(".txt") */
// so that HelpViewer constructor doesn't try to expand
// WORD BEGIN OPERATOR  //  \< if ????
// used to mark non-existent classes in class hash
// evaluate a method declaration
// -------------------------------------------------------------------------- // Utility methods: dump bytecode array // --------------------------------------------------------------------------
// the word
// should try to print usage here if nothing found
//{{{ addWord() method
//{{{ indexURL() method
//{{{ selectNode() method
//{{{ Word class
// Look for a BeanShell command
// files it occurs in
// If defined, invoke it
//{{{ HelpTOCPanel constructor
// else fall through...
//{{{ HelpNode constructor
//{{{ attribute() method
//{{{ TOCHandler class
"/*        NULL means ""no value"".        This ia a placeholder for primitive null value.    */"
////////////////////////////////////////////////////////////////////// // High-level reading and scanning methods. //////////////////////////////////////////////////////////////////////
//{{{ CustomClassManager class
//{{{ cut() method
//{{{ TOCHandler constructor
//{{{ TOCCellRenderer class
//ToolTipManager ttm = ToolTipManager.sharedInstance();
//{{{ cellRectIsVisible() method
//{{{ Path name methods
//{{{ TOCTree constructor
//{{{ SendVFSUpdatesSafely class
//{{{ TOCTree class
//{{{ constructPath() method
//{{{ getFileVFS() method
//{{{ VFS methods
//{{{ PluginCompare class
//{{{ getUrlVFS() method
//{{{ registerVFS() method
//{{{ Static variables
// if we are already in the AWT thread, take a shortcut
//{{{ runInAWTThread() method
//{{{ error() method
//{{{ runInWorkThread() method
//{{{ getVFSByName() method
//{{{ getRegisterStatusPrompt() method
//{{{ getVFSForPath() method
// in new api, protocol always equals name
//{{{ Class initializer
//{{{ getVFSs() method
//{{{ getFilesystems() method
//{{{ getVFSForProtocol() method
//{{{ waitForRequests() method
// don't send two updates // for the same path
// NON-SPECIAL CHARACTER (or escape to make literal) //  c | \* for example
//{{{ getRegister() method
//{{{ errorOccurred() method
//{{{ getRequestCount() method
//{{{ getIOThreadPool() method
//{{{ sendVFSUpdate() method
//{{{ I/O request methods
// use system default short format
//{{{ getLeadingWhiteSpaceWidth() method
//{{{ addGlobalAbbrev() method
//{{{ _createOutputStream() method
//{{{ loadColors() method
//{{{ setPermissions() method
//{{{ lookupWord() method
//{{{ getFileName() method
//{{{ HelpNode class
//{{{ getParentElement() method
// Register the notation.
//{{{ getParentOfPath() method
//{{{ UrlVFS constructor
// // When the class is loaded, populate the hash table of // attribute types. //
//{{{ _rename() method
"/*		If this type of This implements it directly return this,		else try complain that we don't have the proxy mechanism.	*/"
/*bcm*/
// Overrides REToken.chain
// clear the static caches in BshClassManager
//{{{ getStringProperty() method
//{{{ setStringProperty() method
//{{{ Check if file is valid
//{{{ getFileSeparator() method
//{{{ FileVFS method
//{{{ _delete() method
// end compound name routines
//{{{ LocalDirectoryEntry class
// this is needed because on OS X renaming to a non-existent // directory causes problems
//{{{ _backup() method
//{{{ _mkdir() method
//}}} //{{{ KEY_RELEASED...
// If null callstack
// arithmetic
/*eof*/
// this has been changed since 1.03 to be non-overlapping matches
// have to handle this case specially on windows. // insert \ between, eg A: and myfile.txt.
// -------------------------------------------------------------------------- // Utility methods: constant pool management // --------------------------------------------------------------------------
//{{{ ToolBar-related constants
//{{{ setBooleanProperty() method
//{{{ getModeAbbrevs() method
//{{{ setModeAbbrevs() method
//{{{ addToFavorites() method
//{{{ TableMouseHandler class
//{{{ Permission preservation code
//{{{ _saveComplete() method
//{{{ setModifierMapping() method
//{{{ getIntegerProperty() method
//{{{ getPermissions() method
// assignment to loose type, void type, or exactly same type
//{{{ getTrailingWhiteSpace() method
//{{{ saveBackup() method
//{{{ Layers
//{{{ FavoritesVFS constructor
//{{{ saveFavorites() method
//{{{ FavoritesEntry class
//{{{ getFavorites() method
//{{{ loadFavorites() method
//{{{ listRoots() method
// Make sure people don't do stupid things like putting files in /Volumes
//{{{ addModeAbbrev() method
// only load global abbrevs if user abbrevs file could not be loaded
"/* if backup file was created less than			 * 'backupTimeDistance' ago, we do not			 * create the backup */"
//{{{ actionBar() method
//{{{ countNewlines() method
//{{{ getFile() method
//{{{ autodetect() method
"/*		Note: it may see like with the new 1.3 scoping this test could be		removed, but it cannot.  When recurse is false we still need to set the		variable in our parent, not here.	*/"
//{{{ getExtendedAttributes() method
//{{{ reloadDirectory() method
//{{{ MarkersMenuItem constructor
// Fetch properties
//{{{ showBrowseDialog() method
//{{{ RootsEntry class
//{{{ getCapabilities() method
// to prevent windows looking for a disk in the floppy drive
// null evalname and we're finished // base object for current eval
// Begin BeanShell Modification - constructor
"/*	Originally called ResultType in the grammar*/"
// reasonable defaults (?)
/*checkOnly*/
//{{{ Extended attributes
//{{{ Capabilities
//{{{ indexStream() method
// this ensures that getFileParent("protocol:"), for // example, is "protocol:" and not "".
// Casting to reference type
// don't want getFileName("roots:") to return ""
// Cannot cast from arbitrary object to primitive
//{{{ getEditPanes() method
// must be null in checkOnly
//{{{ getExtendedAttribute() method
// A method name that starts with _ requires a session object
// Currently unused, but we'll probably need it later.
//{{{ createVFSSession() method
// ignore last character of path to properly handle // paths like /foo/bar/
//{{{ getTwoStageSaveName() method
//{{{ updateEveryTime() method
//{{{ AppearanceOptionPane constructor
// Inform the handler about the // attribute.
// If return type void, return void as the value.
// EOF, not zero read apparently
"/* * Expression syntax follows. */"
// Precondition: pattern[index-1] == ':' // we will return pos of closing ']'.
// box it
//{{{ setIntegerProperty() method
// will be cached from now on...
//{{{ getRegexpProperty() method
//{{{ getRuleSetAtOffset() method
// Collect blocks of up to maxItems of consecutive letters
//{{{ _endVFSSession() method
// set the var here in the block namespace
//e.printStackTrace();
// super.variables.containsKey( name ) not any faster, I checked
// set the var in the enclosing (parent) namespace
// Found "<?"
//{{{ getClassName() method
/*strict?*/
//current.addSeparator();
//{{{ File types
/*@bgen(jjtree) MethodInvocation */
// Check for {} tomfoolery
//{{{ parsePermissions() method
// we have to deal with a huge range of possible border cases here.
// Should never come here
// for filtering out backups
//{{{ MarkersMenuItem class
//{{{ ActionListeners
//{{{ DirectoryEntry constructor
// ClassPathException is a type of UtilEvalError
//{{{ getColor() method
// skip marker files
// Read all the backslashes
// skip backup files
// if less than 20 items, put them directly in the menu
// Generate code to push the BSHTHIS or BSHSTATIC field 
/*@bgen(jjtree) Arguments */
// We could let a String fall through to final input, but since // it's the most likely input type, we check it first.
// Sort each letter
// no background mode, and opening a new view
//{{{ keyPressed() method
//{{{ addToLetterMap() method
//{{{ Expansion class
//{{{ old API
// We build a set of lists, each list contains plugin menu // items that begin with a given letter.
//{{{ loadAbbrevs() method
//{{{ eval() method
/*@bgen(jjtree) Block */
//{{{ _eval() method
/* int */
//{{{ saveAbbrevs() method
// Push 'this'
// write global abbrevs
//{{{ getFirstInvalidFoldLevel() method
// write mode abbrevs
// Parse mixed content.
//{{{ CompoundEdit class
// Read the first token.
//{{{ getBuffer() method
//{{{ isScreenLineCountValid() method
// // Constants for element content type. //
//{{{ DirectoryProvider constructor
//{{{ add() method
//{{{ Model class
//{{{ menuSelected() method
// Both numeric wrapper types?  // Try numeric style promotion wrapper cast
//{{{ getSplitConfig() method
// assign doesn't need the pre-value
// Finish the declaration.
//{{{ MouseListener...
//{{{ getPluginJAR() method
/*@bgen(jjtree) IfStatement */
"/*     * freq table collected to save a pass over the data     * during decompression.     */"
//{{{ loadCaretInfo() method
//{{{ ViewUpdate constructor
// if no server running and user runs jedit -quit, // just exit
//{{{ ActionListener...
//{{{ createMacrosMenu() method
//{{{ EditBusStub class
//{{{ cacheBlock() method
//{{{ DynamicMenuChanged constructor
// protected members
//{{{ setSelectedRow() method
// Read the remaining tokens.
//{{{ _init() method
// Read the external IDs
//{{{ isExiting() method
//{{{ Message types
//{{{ canonPath() method
//{{{ PluginUpdate constructor
//{{{ BufferUpdate constructor
//{{{ DockableWindowUpdate constructor
//{{{ getRowCount() method
// Check for NDATA declaration.
// evaluate each child
// no surrogates needed
//{{{ mouseClicked() method
//{{{ BrowserColorsModel constructor
// Read the entity value.
"/* Returns the root node of the AST.  It only makes sense to call     this after a successful parse. */"
//{{{ BrowserColorsModel class
//{{{ moveUp() method
//{{{ ColorRenderer constructor
//{{{ ColorRenderer class
// Check for a parameter entity.
"/* Determines whether the current node was actually closed and     pushed.  This should only be called in the final user action of a     node scope.  */"
// too big for surrogate
//{{{ runCachedBlock() method
//{{{ isScriptRunning() method
//{{{ getNameSpace() method
//{{{ Deprecated functions
/* Background color */
// Read the attribute type.
//{{{ setScreenLineCount() method
/* Font */
//{{{ TextAreaOptionPane constructor
// classExists caches info for us
//{{{ saveMode() method
/* Selection color */
/* Wrap guide */
/* Line highlight */
//{{{ selectMode() method
//{{{ EditingOptionPane constructor
/* EOL markers */
/* Returns the node currently on the top of the stack. */
"/* Returns the number of children on the stack in the current node     scope. */"
//{{{ resetClassManager() method
//{{{ setupDefaultVariables() method
//{{{ resetDefaultVariables() method
//{{{ unwrapException() method
//{{{ handleException() method
//{{{ createInterpreter() method
/* Show toolbar */
//{{{ moveGapEnd() method
//{{{ DummyFoldHandler constructor
// don't do anything if the user didn't change // any settings
//{{{ NoPluginsPane class
//{{{ Ceate icons list
// need to call Mode.init() if the file name or first line // globs change
//{{{ ExplicitFoldHandler constructor
// initialize the Plugins branch of the options tree
// Query plugins for option panes
//{{{ moveGapStart() method
//{{{ ToolBarOptionPane constructor
//{{{ getDefaultGroup() method
//{{{ createOptionTreeModel() method
//{{{ Create buttons
// get rid of mixed paths on Windows
// garbage collected
// also get rid of trailing spaces on Windows
// Found "<"
// Found "<" followed by something else
// Parse the rest of the content model.
// do the same on OS X
// // Constants for the entity type. //
// end HandlerBase implementation
// Check for the occurrence indicator.
/* P1003.2/D11.2, section 4.20.7.1, lines 5078ff.  */
// try scripted class
//{{{ ToolBarEditDialog class
// number of positional parameters in abbreviation expansion
// Register the separator.
//{{{ IconListEntry class
//{{{ Expansion constructor
//{{{ ButtonCompare class
// Icon selection
//{{{ Button class
//{{{ Handle backslash
// Read the content model.
//{{{ ToolBarEditDialog constructor
// $n is 1-indexed, but vector // contents is zero indexed
// $key will be $key, for // example
// Check for end or for a separator.
//{{{ updateList() method
// Found "</"
// Found "<!"
// Found "<!["
// Found "<!-"
// clean up old listeners
// single line mode (/s)
//{{{ createStyleTableModel() method
//{{{ createStyleTableScroller() method
// Values for constants are bit indexes
//{{{ StyleTableModel class
// classloader wants no leading slash
//{{{ StyleEditor constructor
//skip all white, PIs, and comments //if this doesn't throw an exception...
// Handle delimiters
//{{{ getKeywordMapAtOffset() method
// Found "&"
//{{{ getContextSensitiveProperty() method
//{{{ getStyle() method
/* Secondary Metal L&F font */
//{{{ addStyleChoice() method
// Expand general entities in // default values of attributes. // (Do this after the doctypeDecl // event!). // expandAttributeDefaultValues();
// I guess not...
// Restore the previous state.
// Read the attribute name.
// This is the (global) counter for the // array of specified attributes.
/* Number alignment */
// See if it was specified.
// for sorting
// Read the attributes, if any. // After this loop, we should be just // in front of the closing delimiter.
/* Border width */
/* Fold marker color */
/* Highlight interval and color */
//{{{ Used to store property values
/* Overwrite */
// not supported by Java...
//{{{ resolveSymlinks() method
// // Constants for attribute type. //
// Read the external subset, if any
/* Memory status */
/* Foreground color */
/* Status bar visible */
/* Caret status */
/* Fold mode */
// Loop until we end up back at '>'
//{{{ FirewallOptionPane constructor
// Read the element type name.
/* Memory background color */
// proxy password
// proxy host
// no proxy for
// No external subset.
// volatile, transient
//{{{ getColumnClass() method
//{{{ DockPositionCellRenderer class
// end of subset
// Read the document type name.
// 8-bit encodings
// // Constants for supported encodings. //
// Read the ExternalIDs.
/*offset*/
//{{{ Edit mode
// 16-bit encodings
/*len*/
//{{{ sort() method
//{{{ isAbsolutePath() method
// 32-bit encodings
// nice and simple
//{{{ Constructor
/* Autosave interval */
// Try reading a standalone declaration
// // Constants for attribute default value. //
//{{{ dump() method
/* Backup on every save */
// Read an optional version.
//{{{ GlobalOptions constructor
// Read the version.
//{{{ insertAtColumn() method
// don't break jEdit core and plugins! //throw new InterpreterError("null variable value");
// Insert code to update the plugin managers list here later
/* Backup count */
// may have been axed previously
/* Backup directory */
// Try reading an encoding declaration.
/* Download source */
//{{{ FloatingWindowContainer constructor
// special primitive types
//{{{ BrowserOptionPane constructor
//{{{ Abbrev class
"/*		For serialization.		Don't serialize non-serializable objects.	*/"
//{{{ Remove class
/*squeltch*/
"/*         * Setting up the unzftab entries here is not strictly         * necessary, but it does save having to do it later         * in a separate pass, and so saves a block's worth of         * cache misses.         */"
//{{{ getMode() method
//{{{ getAutosaveFile() method
// Cache unqualified names to prevent import check again
// for now, since all browser actions are // written in beanshell we set the 'browser' // variable directly.
//{{{ AbbrevCompare class
//{{{ AbbrevsModel constructor
//{{{ toHashtable() method
//{{{ edit() method
//{{{ HeaderMouseHandler class
// no args method
//{{{ User interface
//{{{ Groups
//{{{ insertIndented() method
// obtain the leading indent for later use
// Normalise whitespace if necessary.
/*forcclass*/
"/*		Note: technically I think we could get by passing in only the		current namespace or perhaps BshClassManager here instead of 		CallStack and Interpreter.  However let's just play it safe in case		of future changes - anywhere you eval a node you need these.	*/"
// try parent
//{{{ newFile() method
"/*         * Undo the MTF values for the selectors.         */"
//{{{ addBufferChangeListener() method
//{{{ addExplicitFold() method
/* Show tip of the day */
// bitwise
// returns Object covering both Long and Boolean return types
/* Show tool bar */
// keep track of the original types
// Add the new typed var
// returns Object covering both Integer and Boolean return types
// Don't generate private /*or loosely return typed */ methods
//{{{ goToNextFold() method
// type is correct here
/* History count */
/* Show hidden files */
/* View dock layout */
/* Show icons */
/* Beep on search auto wrap */
/* Show full path */
/* Menu spillover count */
//{{{ ActionListHandler constructor
/* Show search bar */
/* Show buffer switcher */
//{{{ narrowToFold() method
/* Primary Metal L&F font */
//{{{ getEntry() method
/* Show splash screen */
//{{{ PrintOptionPane constructor
//{{{ BufferOptions constructor
/*declaredOnly*/
// auto-gen default constructor // use default super constructor
// number of times we've matched so far
// Create a new file when the last is closed
//{{{ Edit modes, syntax highlighting
// Common layers
// map voids to nulls for the outside world
// can't shift floating-point values
// arbitrary
// ++ and -- must be cast back the original type
// Promote character to Number type for these purposes
// flush log
// save list of open files
// Layers for top group
// non boolean primitive, get appropriate flavor of zero
// store the value in the array
/* Sort buffers */
// Try object imports
// found an object and it's not an undefined variable
// Determine if the constructor calls this() or super()
// Check for stingy match for each possibility.
// set contents of mymatch equal to newMatch
//{{{ closeAllBuffers() method
//{{{ need to convert entries of 'props' to PropValue instances
/* Confirm save all */
//{{{ pathEquals() method
//{{{ toggleRectangularSelectionEnabled() method
// evaluate the static portion of the block in the static space
// unwrap primitives
//{{{ saveCaretInfo() method
// Insert the content type, if any.
// Try static imports
// Check for existing method
// this() constructors come after super constructors in the table
// we do a write lock so that the // autosave, which grabs a read lock, // is not executed between the // deletion of the autosave file // and clearing of the dirty flag
// close remaining buffers (the close dialog only deals with // dirty ones)
//{{{ backspaceWord() method
// try declaredField
/*fromType*/
// I think this can happen
// Supply any defaulted attributes.
// Create the instance 'This' namespace, set it on the object // instance and invoke the instance initializer
// Find new doablesLast
"/*         * 20 is just a paranoia constant         */"
//{{{ saveAllBuffers() method
// Cast input appropriately or throw exception
// don't deal with object types here... unless above
// can only cast boolean to boolean
// Trying to cast null to primitive type?
//{{{ addOptionPane() method
/* Session management */
//{{{ GeneralOptionPane constructor
//{{{ ShowRecentMenuItem class
// unwrap primitive to the wrapper type
// Begin BeanShell Modification - public, extend EvalError
// Evaluate the initializers
// first promote char to Number type to avoid duplicating code
// Do numeric cast
// UCS-4 must begin with "<!XML" // 0x3c 0x00 0x00 0x00: UCS-4, little-endian (4321)
//return countParts(value) > 1;
// At this point we've either got too many or just the right amount. // See if this numRepeats works with the rest of the regexp.
/* Footer */
"/*         * Write `magic' bytes h indicating file-format == huffmanised,         * followed by a digit indicating blockSize100k.         */"
// auto reload changed buffers?
/* Header */
/* Sort buffers by names */
// UCS-4 must begin with "<!XML" // 0x00 0x3c 0x00 0x00: UCS-4, unusual (3421)
// Test all possible matches for this number of repeats
// ... sweet. saveBackup() will create backupDir if it // doesn't exist.
//{{{ ParentMouseHandler class
/* Save caret positions */
// End BeanShell Modification - sourceFile
// Begin BeanShell Modification - sourceFile
// End BeanShell Modification - public, extend EvalError
// End BeanShell Modification - constructor
// End BeanShell Modification - super constructor args
/* Recent file list size */
/* Force 1.3 print dialog */
/* Check mod status on focus */
/* Default file encoding */
/* Auto detect encoding */
// in any case, this is only needed for the // directory chooser (why?), so we add a // check. otherwise poor Rick will go insane.
// handle primitive widening conversions - JLS 5.1.2
/*overrideNamespace*/
"/*                 * Now scan this big bucket so as to synthesise the                 * sorted order for small buckets [t, ss] for all t != ss.                 */"
/* Two-stage save */
//{{{ HelpButton class
// compare existing entries' hashcode with this
// turns out under some circumstances this // method can switch the current buffer in // BROWSER mode.
/* Color */
//{{{ focusOnDefaultComponent() method
//{{{ mouseMoved() method
//{{{ createMenuItems() method
// Layers for bottom group
//{{{ centerCaret() method
// End BeanShell Modification - made conditional on debug
// Begin BeanShell Modification - added debug param
//{{{ showSelectLineRangeDialog() method
"/*         * sort the block and establish posn of original string         */"
//{{{ removeStructureMatcher() method
//{{{ showListConfirm() method
// Begin BeanShell Modification - added sourceFile info
//{{{ ManagePanel constructor
// End BeanShell Modification - added debug param
// Begin BeanShell Modification - override error methods and toString
// Compare with number of dimensions actually created with the // number specified (syntax uses the undefined ones here)
// Some kind of 8-bit encoding without "<?XML" // (otherwise) UTF-8 without encoding/XML declaration
"/*			dimensionsNode can return either a fully intialized array or VOID.			when VOID the prescribed array dimensions (defined and undefined)			are contained in the node.		*/"
// so that we don't try to reset() right away
"/*                 * Find the coding table which is best for this group,                 * and record its identity in the selector table.                 */"
// in this case, we can't directly call // view.close(); we have to call closeView() // for all open views
// Generate the delegate methods
//{{{ transitiveClosure() method
// Test it
// execute nodes, skipping labels, until a break or return
// Check for entity recursion.
/* --- Instance data --- */
// Both primitives, do primitive cast
/*filter*/
// check if input is at a valid position
// Stop server
//{{{ EnhancedButton constructor
//{{{ Mirror class
// copied from generated getMessage()
// Generate the constructors
// Force the class public for now...
// for inner classes
// Generate the bsh instance 'This' reference holder field
// Generate the fields
// Generate the static bsh static reference holder field
//{{{ loadExtraJARsIfNecessary() method
//{{{ PluginTableModel class
//{{{ Caret
//{{{ RemoveButton class
//{{{ TextRenderer class
//{{{ addToSelection() method
//{{{ MirrorList constructor
//{{{ MirrorCompare class
// unwrap, etc.
//{{{ PluginList constructor
//{{{ getSelectionCount() method
// Generate method body
//{{{ getToolBar() method
//{{{ finished() method
"/*	 * The split config is recorded in a simple RPN ""language"".	 */"
//{{{ addPluginSet() method
//{{{ addPlugin() method
// if download OK, remove existing version
"/*                 * copy 3                 */"
//{{{ updatePosition() method
// if no requests are running, requestDone() // will not be called, so we must queue the // AWT runner ourselves.
//{{{ createBrowserMenuItems() method
//{{{ PluginManager constructor
//{{{ Deprecated methods
// ensure consistent history; // eg we don't want both // foo/ and foo
//{{{ isDownloadingList() method
//{{{ createOptionPanes() method
//{{{ getJAR() method
/* Strip trailing EOL */
// Get the instance field
//{{{ showWaitCursor() method
// Also cache the class so that no import resolution must occur // this avoids having to load our enclosing class which isn't // finished being generated yet... oy.
////////////////////////////////////////////////////////////////////// // Low-level I/O. //////////////////////////////////////////////////////////////////////
// need to set the input stream - reinit the parser?
// Primitive to arbitrary object type.  // Allow Primitive.castToType() to handle it as well as cases of  // Primitive.NULL and Primitive.VOID
// a la Perl, $0 is whole thing, $1 - $9 are subexpressions
// if started with java -jar jedit.jar
//{{{ showPluginManager() method
//{{{ getInstance() method
//String installed; //String installedVersion;
//{{{ Plugin class
//{{{ Dependency class
//{{{ PluginSet class
// after the entire list is loaded, fill out plugin field // in dependencies
// Force the install tab to refresh for possible // change of mirror
/* Implements abstract method REToken.match() */
//{{{ getPluginList() method
//{{{ Branch class
// only used if what is "plugin"
// Read as many bytes as possible // into the read buffer.
//{{{ updatePluginList() method
// init the static shared sharedObject if it's not there yet
//{{{ setSelectAll() method
//{{{ SelectallButton class
//{{{ getBufferLength() method
/* even if installDirectory is different */
//{{{ getSearchBar() method
/*map*/
// index tracks the position in the char array
/* Setup panes */
//{{{ Variables
"//branch.satisfyDependencies(roster,installDirectory, //	downloadSource);"
// look for the specially named super delegate method
//{{{ restoreSplitConfig() method
//{{{ activate() method
//{{{ download() method
//{{{ SizeLabel class
// Generate code to push arguments as an object array
/*strict*/
// Dispatch to an encoding-specific // reader method to populate the // readBuffer.
// bsh.evalOnly
/* Setup the table */
//{{{ deactivate() method
/* Create description */
/* Create buttons */
//{{{ ListUpdater class
//{{{ PluginInfoBox class
// still needed even though glass pane // has a wait cursor
//{{{ Do more stuff
//{{{ nextTabStop() method
//{{{ writeMap() method
//{{{ Roster constructor
//{{{ hideWaitCursor() method
/* Tab size */
//{{{ getStatus() method
//{{{ getActionBar() method
// Handle imported inner class case
//{{{ quickIncrementalSearch() method
// compact the Vector
// Add final buffered token and an EndSub marker
//{{{ quickHyperSearch() method
//{{{ InstallPanel constructor
// Create this constructor method
//{{{ formatSize() method
// Generate code to return the value
// Generate code to unwrap bsh Primitive types
// Generate code to invoke the ClassGeneratorUtil initInstance() method
// push 'this' 
//{{{ WindowHandler class
//{{{ concatPath() method
// close JAR file and all JARs that depend on this
// Make all child paths relative.
//{{{ getLineText() method
//{{{ setFirstPhysicalLine() method
// ALPHANUMERIC OPERATOR //  \w
//{{{ getInputHandler() method
//{{{ Input handling
//{{{ getKeyEventInterceptor() method
//{{{ setKeyEventInterceptor() method
//{{{ setInputHandler() method
// we have to be careful
//{{{ calculate tab size
//{{{ RosterThread class
// progress value as of start of current task
//{{{ TextRenderer
// package-private members
//{{{ done() method
//{{{ Deferred class
//{{{ setValue() method
//{{{ endDocument() method
// Change any white text to black
// invoke the initInstance() method
// Push the class/constructor name as a constant
// Push arguments as an object array
//buffer.readLock();
//{{{ getFileCount() method
//{{{ Scrolling
// calculate size for current page
//{{{ ParentDirectoryRenderer class
//{{{ print() method
//{{{ printPage() method
//buffer.readUnlock();
//{{{ getMacroRecorder() method
//{{{ setMacroRecorder() method
"/*	Type, name and expression syntax follows.*/"
//{{{ determine line number width
//{{{ pageSetup() method
//no need to always keep the same job name for every printout.
// remove cache file
// Add method body
// push super class name // use superClassName var?
//{{{ toggleLineSeparator() method
// push class static This object
//{{{ Instance variables // this is a bad hack
//{{{ paintHeader() method
// not supported for arbitriary filesets
// generate switch body
/* Decorate frames with look and feel (JDK 1.4 only) */
//{{{ BufferPrintable constructor
/*max*/
// start switch
// push ConstructorArgs 
// map loose return to Object
// invoke the iterator method on the ConstructorArgs // push the ConstructorArgs
// Unload the arguments from the ConstructorArgs object
// done with switch
// Maybe combine this with generateMethod()
// default branch always invokes no args super // push 'this' 
// invoke the constructor for this branch
// if it's an object type we must do a check cast
//{{{ getMaximum() method
//{{{ paintFooter() method
// catch those hooligans passing null urls
// move JAR first
//{{{ getPrintJob() method
//{{{ PrintTabExpander class
//{{{ PrintTabExpander constructor
//{{{ EntryCompare class
//{{{ getPageFormat() method
//{{{ Install class
//long
//{{{ Install constructor
//{{{ addRemove() method
// cached for speed
//{{{ getFileExtension() method
// Push vars
//{{{ Occur constructor
//{{{ Operation interface
//{{{ addOperation() method
//{{{ getFileNameNoExtension() method
//{{{ getDownloadDir() method
//{{{ savePrintSpec() method
//{{{ getFileParent() method
//convert from PrintRequestAttributeSet to the pageFormat
//{{{ getFileProtocol() method
//{{{ getProtocolOfURL() method
//{{{ isURL() method
/* Line numbering */
//{{{ Create the timer used by incremental search
//{{{ goTo() method
/*@bgen(jjtree) FormalParameters */
// final in 4.2
//{{{ HyperSearchResult constructor
// not found at all.
//{{{ addOccur() method
// Gather all of the methods of class and parents
/* an error occurred */
//{{{ toggleWordWrap() method
//{{{ getNextFile() method
//{{{ Occur class
//{{{ getFirstFile() method
//{{{ getDirectory() method
//{{{ setHyperSearch() method
//{{{ invalidateCachedList() method
// WHITESPACE OPERATOR //  \s if RE_CHAR_CLASS_ESCAPES is set
// RETURN ESCAPE //  \r
//{{{ isEmpty() method
// NON-WORD BREAK OPERATOR // \B if ????
//{{{ performOperationsInWorkThread() method
// now activate the plugins
//{{{ bufferSaved() method
// close button only there if 'temp' is true
//{{{ getOperationCount() method
//{{{ timerIncrementalSearch() method
//{{{ find() method
//{{{ incrementalSearch() method
//{{{ getOperation() method
// beep if beep property set
// not found. start from // beginning
//}}} //{{{ Incremental search
// on backspace, restart from beginning
// inform user search restarted
// on enter, start search from end // of current match to find next one
//{{{ Buffers, edit panes, split panes
//{{{ splitHorizontally() method
// use default super constructor
//}}} //{{{ HyperSearch
// don't beep if not found. // subsequent beeps are very // annoying when backspacing an // invalid search string.
// reverse regexp search // not supported yet, so // 'simulate' with restart
// strings might be equal!
// BufferUpdate.CLOSED
//{{{ setRecursive() method
// to notify listeners that any existing // selection has been deactivated
//{{{ visitBuffers() method
//{{{ split() method
//{{{ unsplitCurrent() method
// find first split pane parenting current edit pane
//{{{ HyperSearchResults constructor
//{{{ getFileFilter() method
//{{{ getTreeModel() method
//{{{ getTree() method
// C:\AUTOEXEC.BAT
//{{{ _getFiles() method
//{{{ isRecursive() method
// /etc/passwd
// End Child node structure evaluated by insureNodesParsed
// Succeeded.  Cache the resolved method.
//{{{ getReverseSearch() method
// Is the method public or are we in accessibility mode?
// Yes, it is.
//{{{ searchFailed() method
"/* package-private since they are accessed by inner classes and we	 * want this to be fast */"
// Found at least one matching method but couldn't use
// ignore and move on
// Is this a class?
/*@bgen(jjtree) Type */
// evaluate the args
// D:\WINDOWS, or doesn't contain : at all
// Get the static This reference from the proto-instance
//{{{ goToSelectedNode() method
/*modifiers*/
//{{{ Getters and setters
// find the matching super() constructor for the args
// Are we choosing ourselves recursively through a this() reference?
// find the matching this() constructor for the args
//{{{ Match class
//{{{ ResultVisitor interface
//{{{ setIgnoreCase() method
//{{{ getRegexp() method
//{{{ BufferLoadedVisitor class
//{{{ addToken() method
//{{{ readStringArray() method
"/* 			Find an appropriate constructor.			use declared here to see package and private as well			(there are no inherited constructors to worry about) 		*/"
// get rid of any edit pane that is a child // of the current edit pane's parent splitter
//{{{ readMap() method
//{{{ nextTextArea() method
//{{{ createSearchSettingsPanel() method
// Find the constructor (now in the instance namespace)
// Wait for buffer to finish loading
//{{{ writeBooleanArray() method
//}}} //{{{ IMPORT
"/*         * Now the block's CRC, so it is in a known place.         */"
//{{{ getAutoWrap() method
//{{{ readURI() method
//{{{ getDocument() method
// invoke the constructor method from the instanceThis 
//{{{ readBooleanArray() method
//{{{ hyperSearch() method
//{{{ Actions
// Give the instance space its object import
/*override*/
//{{{ setSearchMatcher() method
//{{{ getSmartCaseReplace() method
// Create the instance namespace
// Pull out the method signatures with matching names
// method matches name 
"/*        This method should parallel findMostSpecificMethod()    */"
//{{{ prevTextArea() method
//{{{ read() method
/*overrideNameSpace*/
// Evaluate the constructor
// if args, we must have constructor
//{{{ getTokens() method
//{{{ setSearchFileSet() method
// start search from beginning
//{{{ getSearchFileSet() method
//{{{ replace() method
// make sure start of match is visible
//{{{ replaceAll() method
// Wait for the buffer to load
//{{{ JAR class
//{{{ getVersion() method
//{{{ getSplitPane() method
//{{{ goToBuffer() method
/* ignore zero-height splits, etc */
//{{{ replaceInSelection() method
// search settings
//{{{ openFile() method
//{{{ record() method
// right?
//{{{ removeExtension() method
// unwrap Primitive.Null to null
// there is always a paramsNode
// unsafe caching of type here
// Begin Child node structure evaluated by insureNodesParsed
//{{{ getTextArea() method
// only record this if doing a find next
//{{{ getEditPane() method
//{{{ getViewConfig() method
//{{{ regexpBeanShellReplace() method
//{{{ handleError() method
//{{{ preloadSearchDialog() method
//{{{ replaceOne() method
/*@bgen(jjtree) FormalParameter */
// If backups is 1, create ~ file
//{{{ showSearchDialog() method
// index of the first throws clause child node
// might be already selected, see above.
//{{{ getSearchDialog() method
//{{{ match() method
/*callerInfo*/
/* fall through */
//{{{ closeOrKeepDialog() method
/*shouldn't happen*/
// why so cute?
/*@bgen(jjtree)*/
// end stuff that was tacked on for boolean short-circuiting.
// Unsafe caching of type here. // null (none), Void.TYPE, or a Class
//{{{ createToken() method
// source is directory or filter field
// check the next two characters
// validate that the throws names are class names
/* replaceBtn, */
/* Focused border color */
//{{{ createMultiFilePanel() method
// do nothing - ch already contains correct character
// get next character
// prevents us from handling SearchSettingsChanged // as a result of below
//{{{ AllBufferSet constructor
//{{{ ReplaceActionHandler class
// args is either constructor arguments or array dimensions
// type is either a class name or a primitive type
//{{{ createButtonsPanel() method
// Try regular class
// so that in the future we don't see streams of // exceptions
/* force class*/
//{{{ ButtonActionHandler class
//{{{ MyJRadioButton class
//{{{ PluginCacheEntry class
//{{{ HyperSearchRequest constructor
//{{{ breakPlugin() method
/*@bgen(jjtree) ClassDeclaration */
/*@bgen(jjtree) MethodDeclaration */
/*@bgen(jjtree) PackageDeclaration */
/*@bgen(jjtree) ImportDeclaration */
// but we want properties to hang around
/*@bgen(jjtree) VariableDeclarator */
//{{{ searchInSelection() method
//{{{ getBuild() method
/* Persistent markers */
/* Sort recent file list */
// (major).(minor).(<99 = preX, 99 = final).(bug fix)
/* Create the plugin table */
/* Create button panel */
// to minimise synchronization and stuff like that, we only // show a status message at most twice a second
//{{{ main() method
//{{{ Check for Java 1.3 or later
// heuristic #2
//{{{ doHyperSearch() method
// No need to wrap this debug
// never mind
/*@bgen(jjtree) ReturnType */
// Check for stingy matching on RETokenRepeated
/*@bgen(jjtree) PrimitiveType */
/*@bgen(jjtree) AmbiguousName */
/*@bgen(jjtree) Assignment */
// This production is to determine lookahead only.
/*@bgen(jjtree) PrimaryExpression */
/*@bgen(jjtree) PrimarySuffix */
/*@bgen(jjtree) Literal */
//{{{ nextMatch() method
// BACKREFERENCE OPERATOR //  \1 \2 ... \9 // not available if RE_NO_BK_REFS is set
/*force class*/
// Is an inner class style object allocation
// pattern test
// position variable for pattern start
// unless we are matching from the start of the buffer, // ^ should not match on the beginning of the substring
// Is it an inner class?
//{{{ RESearchMatcher constructor
// Boyer-Moore helper methods
// work through to class 'this'
//{{{ Miscellaneous methods
// MISMATCH: return -1 as defined by API
//{{{ Token types
//{{{ lookup() method
//{{{ setSelectionColor() method
// skip the greater of the two distances provided by the // heuristics
//{{{ getNext() method
// character mismatch, determine how many characters to skip
// heuristic #1
// MacOS users expect the app to keep running after all windows // are closed
// go back to the while loop
//{{{ getPrev() method
// used for the delayed evaluation...
//{{{ setWaitSocket() method
//{{{ getIndex() method
//{{{ generateSkipArray() method
// Boyer-Moore member fields
// MATCH: return the position of its first character
//}}} //{{{ PROPS
//{{{ See if the rule's start or end sequence matches here
//{{{ ref() method
// unless we are matching to the end of the buffer, // $ should not match on the end of the substring
//{{{ getIgnoreCase() method
//{{{ getLineContext() method
//{{{ setLineContext() method
//{{{ addRule() method
//{{{ handleToken() method
//{{{ Token constructor
// used to store offsetToXY() results
// leave these on the stack for Arguments() to handle
/*@bgen(jjtree) AllocationExpression */
//{{{ getKeywords() method
//{{{ getParserRuleSet() method
//{{{ TokenMarker constructor
//{{{ regionMatches() method
//{{{ getRuleSet() method
//{{{ startPluginLater() method
//{{{ Keyword class
//{{{ getSegmentMapKey() method
//{{{ getStringMapKey() method
//{{{ getMainRuleSet() method
// buffers retain a reference to the fold handler in // question... and the easiest way to handle fold // handler loading is this...
// == null before loaded
//{{{ Set up some instance variables // this is to avoid having to pass around lots and lots of // parameters.
//{{{ actionsPresentButNotCoreClass() method
/*superClass*/
//{{{ loadCache() method
/*@bgen(jjtree) ArrayDimensions */
"/* * Statement syntax follows. */"
//{{{ generateCache() method
/*@bgen(jjtree) #FormalComment( retainComments) */
/*@bgen(jjtree) SwitchStatement */
/*@bgen(jjtree) SwitchLabel */
/*interfaces*/
/*isInterface*/
//{{{ check if current character is a word separator
// move pos to last character of match sequence
//{{{ check every rule
//{{{ Mark all remaining characters
//{{{ getRuleSets() method
//{{{ check for end of delegate
// send to specific event handler
//{{{ handleRule() method
// the end cannot be a regular expression
//{{{ SEQ
//{{{ Some rules can only match in certain locations
//XXX
//{{{ Unwind any NO_LINE_BREAK parent delegates
//{{{ Check for an escape sequence
/*@bgen(jjtree) WhileStatement */
"/*	Do statement is just a While statement with a special hook to execute	at least once.*/"
/*@bgen(jjtree) ForStatement */
/*@bgen(jjtree) EnhancedForStatement */
/*@bgen(jjtree) TypedVariableDeclaration */
/*@bgen(jjtree) StatementExpressionList */
/*@bgen(jjtree) ThrowStatement */
/*@bgen(jjtree) TryStatement */
// All core AWT listeners
// All listeners in javax.swing.event as of Swing 1.1
// handleEvent gets all events
//{{{ getListModel() method
// Token was accepted
/* all printable ASCII characters */
// First node is the expression on which to sync
// a DELEGATE attribute on a SEQ changes the // ruleset from the end of the SEQ onwards
/*returnType*/
// BSHType will cache the type for us
//{{{ setEditPane() method
//{{{ loadToolBars() method
//{{{ handleBufferUpdate() method
// note that all regexps start with \A so they only // match the start of the string
// Hashtable implements Map
// BSHFormalParameters will cache the type for us
// Arrays incomplete... need to use the array setter
//{{{ noRememberLast() method
//{{{ getClasses() method
//{{{ LineContext constructor
//{{{ Do digits
//{{{ PluginJAR constructor
//{{{ Do keywords
//{{{ handleTokenWithSpaces() method
// used for SPAN_REGEXP rules; otherwise null
/*min*/
// Hypothetical question: can you have a RE that matches 1 times, // 3 times, 5 times, but not 2 times or 4 times?  Does having // the subexpression back-reference operator allow that?
//{{{ isClosed() method
//{{{ clone() method
//{{{ Handle any remaining crud
// only match against regexp if its not all // digits; if all digits, no point matching
//{{{ intern() method
//{{{ charArraysEqual() method
//{{{ XModeHandler constructor
// Do the actual synchronization
//}}} //{{{ MARK_PREVIOUS
// Possible positions for the next repeat to match at
// Declare variables used in loop
// try next repeat at all possible positions
// if none of the possibilities worked out, break out of do/while
// reassign where the next repeat can match
// increment how many repeats we've successfully found
// We're greedy, but ease off until a true match is found 
// else did not match rest of the tokens, try again on smaller sample
// does this get all?
// If we fall out, no matches.
//{{{ substitute() method
// make sure we put the namespace back when we leave.
// filter nodes
// zeros
// statement or embedded block evaluated a return statement
//{{{ BrowserActionContext class
"/* on some Windows versions, connections to localhost			 * fail if the network is not running. To avoid			 * confusing newbies with weird error messages, log			 * errors that occur while starting the server			 * as NOTICE, not ERROR */"
// Some arbitrary kind of node
"/*			If the result is a Node eval() it to an object or LHS			(as determined by toLHS)		*/"
// Type node is passed down the chain for array initializers // which need it under some circumstances
//{{{ isPlainView() method
// return LHS or value object as determined by toLHS
// import the package we're in by default...
// skip autosave files
//{{{ openFiles() method
//}}} //{{{ SPAN_REGEXP
//{{{ setEscapeRule() method
//{{{ getEndOffset() method
//{{{ Major actions
// chain results to doneIndex
// Find new doneIndexLast
// matches after a newline
// store ConstructorArgs in consArgsVar
//}}} //{{{ Keywords
//}}} //{{{ SPAN
//{{{ Selection
//}}} //{{{ EOL_SPAN_REGEXP
//{{{ addKeyword() method
// invoke the ClassGeneratorUtil getConstructorsArgs() method
//{{{ paintChunkList() method
// position in REToken.newline
// Don't match at all if REG_NOTBOL is set.
// value for end
// closer to end
// Allocate more space in the buffer.
//{{{ Buffer creation methods
//{{{ Parse command line
// open initial view?
// move read position [index] clicks from 'charAt(0)'
// script to run
// If we have buffered replace data, use it.
// This is prone to infinite loops if replace string turns out empty.
//{{{ We need these initializations very early on
//{{{ getModeName() method
//{{{ Try connecting to another running jEdit instance
//{{{ deactivatePlugin() method
// push args
// block until its closed
//{{{ createEOLSpanRule() method
// assume for now that next can only be one character
// Overrides REToken.chain() to optimize for strings
//{{{ getPluginCache() method
//{{{ setPluginCache() method
//{{{ createRegexpSpanRule() method
//}}} //{{{ SEQ
//{{{ createSequenceRule() method
//{{{ Chunk constructor
// set up after init()
//{{{ createSpanRule() method
// see if this is a 4.1-style plugin
// Note that there is some debate over whether '_' should be included
// field access
"/*		Field access, .length on array, or a method invocation		Must handle toLHS case for each.	*/"
//{{{ Static methods
// .length on array
// convert the byte read into a char
// Package scope constructor is used by RE.getMatchEnumeration()
// Property style access to Hashtable or Map
//else
// no match
// doesn't happen
// need to deep clone?
// cut off alternates
//{{{ getDockablesURI() method
//{{{ getServicesURI() method
//{{{ createRegexpEOLSpanRule() method
// Offset in source text where match was tried.  This is zero-based; // the actual position in the source text is given by (offset + anchor).
// Package scope; used by RE. // used while matching to mark current match position in input // start positions (relative to offset) for each (sub)exp. // end positions for the same // other possibility (to avoid having to use arrays)
// position in newline
// The RE constructor uses this to look up the constant for a string
// Array indices correspond to constants defined above.
//{{{ getNextVisibleLine() method
// This is the number of subexpressions in this regular expression, // with a minimum value of zero.  Returned by getNumSubs()
// The localized strings are kept in a separate file
// Retrieves a message from the ResourceBundle
// internal constructor used for alternation
// Subexpression index of this token.
// For use by subclasses
// The meat of construction
// This is the case of {x,}
/* update fold visibility map. */
//{{{ ParserRuleSet constructor
//{{{ getDigitRegexp() method
//{{{ setHighlightDigits() method
//{{{ getDefault() method
//{{{ setNoWordSep() method
//{{{ setDigitRegexp() method
//{{{ getEscapeRule() method
//{{{ initChunk() method
// This is used for {x,y} calculations
//{{{ Static part
//{{{ SyntaxStyle constructor
//{{{ textAreaDisposed() method
// don't have chunks longer than 100 characters to avoid slowing things down
//{{{ getFirstVisibleLine() method
//{{{ releaseDisplayManager() method
//{{{ getBackgroundColor() method
//{{{ getFont() method
// Buffer a token so we can create a TokenRepeated, etc.
// read the next character unit (including backslash escapes)
// make everything up to here be a branch. create vector if nec.
// LIST OPERATOR: //  [...] | [^...]
/* before first visible line */
//  ---- BeanShell specific stuff hereafter ----  //
//{{{ getLastVisibleLine() method
"/*		Override this method if you want to customize how the node dumps		out its children.	*/"
/* last in expanded range */
//public SimpleNode getParent() { return (SimpleNode)parent; }
/*key*/
//{{{ expandAllFolds() method
// no folds in buffer
"/*		type = VARIABLE;		this.varName = varName;		this.nameSpace = nameSpace;*/"
// resolve superclass if any
/* first in expanded range */
// 4.2 plugin
/* prev in expanded range */
// this line is the start of a fold
//{{{ Find fold start and end...
// Get the class body BSHBlock
//{{{ getScrollLineCount() method
// Get interfaces
//{{{ collapseFold() method
//{{{ Expand the fold...
/* isLineVisible(i) && */
//{{{ expandFold() method
// we need a different value of initialFoldLevel here!
// Check for initial caret, negation
// Check for leading right bracket literal
// Create a new RETokenOneOf
// if we narrowed to a single collapsed fold
// Set the variable in namespace according to localVar flag
//{{{ activateIfNecessary() method
//{{{ updateWrapSettings() method
//{{{ narrow() method
//{{{ expandFolds() method
//{{{ fvmget() method
//{{{ changed() method
// for thread safety
// Enable/Disable tooltips
//{{{ reset() method
//{{{ fvmput() method
// // Listener objects //
//{{{ showLineRange() method
//{{{ FirstLine class
// ScrollLineCount.changed() does the same // thing
// package-private members // package-private, not private, for speedy access by inner classes
"/*         * Now a single bit indicating randomisation.         */"
//{{{ physUp() method // scroll up by physical line amount
// <Esc> closes a floating window
// force the fold levels to be // updated.
/* collapse 2 */
// we're removing from before // the first visible to after // the last visible
//{{{ scrollUp() method // scroll up by screen line amount
//{{{ getText() method
//{{{ scrollDown() method // scroll down by screen line amount
// not a comment // subexpression
//{{{ ensurePhysicalLineIsVisible() method
// update visible lines
// START OF LINE OPERATOR //  ^
// END OF LINE OPERATOR //  $
// will be handled later. // see comments at the end of // transactionComplete().
// must be before the below call // so that the chunk cache is not // updated with an invisible first // line (see above)
// must update screen line counts before we call // _notifyScreenLineChanges() since that calls // updateScrollBars() which needs valid info
//{{{ doDelayedUpdate() method
// install man page
// when painting the last line of // a buffer, Buffer.isFoldStart() // doesn't call getFoldLevel(), // hence the foldLevelChanged() // event might not be sent for the // previous line.
//{{{ toggleExpanded() method
// pass along target error
//{{{ setBorder() method
//{{{ caretAutoScroll() method
//{{{ Initialize settings directory
// Write a warning message:
//{{{ Get things rolling
//{{{ paintInvalidLine() method
//{{{ getMatch() method
//{{{ MouseActions constructor
// fill the background
//{{{ addExtension() method
//{{{ Gutter constructor
//{{{ getFoldColor() method
// skip CR
"/*	 * JComponent.setBorder(Border) is overridden here to cache the left	 * inset of the border (if any) to avoid having to fetch it during every	 * repaint.	 */"
"/*	 * Component.getPreferredSize() is overridden here to support the	 * collapsing behavior.	 */"
//{{{ setLineNumberAlignment() method
//{{{ getHighlightedForeground() method
//{{{ noRepeat() method
"/*         * Finally, block's contents proper.         */"
//{{{ setCurrentLineForeground() method
/*index*/
//{{{ getCurrentLineForeground() method
//{{{ setHighlightedForeground() method
//{{{ mouseEntered() method
// If no other constructors, generate a default constructor
//{{{ setStructureHighlightColor() method
//{{{ isCurrentLineHighlightEnabled() method
//{{{ getHighlightInterval() method
//{{{ setCurrentLineHighlightEnabled() method
//{{{ setStructureHighlightEnabled() method
//{{{ setExpanded() method
// Read string of digits
//{{{ mouseExited() method
// Special case for EQ on two wrapper objects
//{{{ isBlockCaretEnabled() method
//{{{ setStyles() method
//{{{ Paint fold triangles
// draw |^
/*value*/
//{{{ setCaretColor() method
//{{{ isStructureHighlightEnabled() method
//{{{ getMultipleSelectionColor() method
//{{{ setFoldLineStyle() method
// assumed this is called after a font render context is set up. // changing font render context settings without a setStyles() // call will not reset cached monospaced font info.
"/*			Are both the lhs and rhs either wrappers or primitive values?			do binary op		*/"
//{{{ isLineHighlightEnabled() method
//{{{ getLineHighlightColor() method
//{{{ isFractionalFontMetricsEnabled() method
// START OF STRING OPERATOR //  \A if RE_STRING_ANCHORS is set
//{{{ isWrapGuidePainted() method
//{{{ Load the global catalog
//{{{ unloadPluginJARWithDialog() method
// dubious? //setFirstLine(0);
//{{{ getDependentPlugins() method
//{{{ getFontRenderContext() method
// create dummy catalog
//{{{ setFont() method
//{{{ getExtensions() method
//{{{ updateRenderingHints() method
//{{{ getPlugin() method
"/* Try to guess the eventual size to avoid unnecessary		 * copying */"
// should try to use this as little as possible.
//{{{ Paint line highlight and collapsed fold highlight
//{{{ PaintLineBackground class
// minimise access$ methods
//{{{ setCaretBlinkEnabled() method
//{{{ getDisplayManager() method
//{{{ getClassLoader() method
//{{{ checkDependencies() method
//{{{ PaintSelection class
//{{{ Add some event listeners
//{{{ PaintText class
//{{{ Initialize the GUI
//{{{ PaintCaret class
//{{{ getBrowserActionSet() method
// NON-DIGIT OPERATOR //  \D
// NEWLINE ESCAPE //  \n
//{{{ getActions() method
//{{{ getPainter() method
//{{{ setQuickCopyEnabled() method
// some plugins add stuff in a "right-hand" gutter
//{{{ getActionSet() method
//{{{ getGutter() method
//{{{ getElectricScroll() method
//{{{ isQuickCopyEnabled() method
//{{{ getDragAndDropCallback() method
// make all buttons the same size
// prev and next buttons are on the right
//{{{ Get ready
//{{{ getScreenLineStartOffset() method
//{{{ setDragInProgress() method
//{{{ getPath() method
//{{{ getFirstLine() method
//{{{ setHorizontalOffset() method
// cancel button goes on far left
// unsafe caching of types
//{{{ scrollDownLine() method
//{{{ getBuiltInActionSet() method
//{{{ scrollUpLine() method
// END OF STRING OPERATOR //  \Z
// not a special character
// end while
//{{{ removeScrollListener() method
// Trivial case
// Overrides REToken.setUncle
// to deal with empty subexpressions
//{{{ getLineLength() method
//{{{ Scroll vertically
//{{{ Convenience methods
//{{{ invalidateScreenLineRange() method
//{{{ Initialize server
//{{{ getScreenLineOfOffset() method
// Buffer sort
//{{{ Initialize Java 1.4-specific code
// Give the static space its class static import // important to do this after all classes are defined
//{{{ offsetToXY() method
//{{{ invalidateLine() method
// to hide line highlight if selections are being added later on
//{{{ getLineStartOffset() method
// handle pathological case of zero-length match
// Note the start of this subexpression
//{{{ addLeftOfScrollBar() method
/*declaringNameSpace*/
//{{{ selectToMatchingBracket() method
// Stop all plugins
// Test for a match, and push the character // back if the match fails.
//Object r = checkOnly ? VALID_CAST :
// Interpreter has no input stream, use eval() only // Interpreter has no input stream, use eval() only // Interpreter has a user, print prompts, etc.
// Delegate to the static method
// Try absolute
//{{{ extendSelection() method
//{{{ _loadClass() method
// Scan forward, matching that bracket
//{{{ resizeSelection() method
// always add markers on selected lines
// Append character to buffer if needed
/* Helper function for constructor */
//{{{ setSelectedText() method
//{{{ getSelectionAtOffset() method
// didn't match up
//{{{ setCaretPosition() method
// Precondition: input[index-1] == '{', minMax != null
//{{{ isMultipleSelectionEnabled() method
//{{{ goToNextParagraph() method
//{{{ moveCaretPosition() method
//{{{ getCaretPosition() method
//{{{ goToFirstVisibleLine() method
//{{{ goToNextBracket() method
// UCS-2 with a byte-order marker. // 0xff 0xfe: UCS-2, little-endian (21)
// Even if reallyExit is false, we still exit properly // if background mode is off
// Can't call it getClass()
//{{{ removeCaretListener() method
//{{{ goToStartOfWhiteSpace() method
//{{{ goToNextPage() method
// We know min and max now, and they are valid.
//{{{ goToEndOfLine() method
//{{{ goToPrevParagraph() method
//{{{ goToPrevWord() method
//{{{ Markers
//{{{ showGoToLineDialog() method
// return the index following the '}'
//classStaticNameSpace.importClass( fqClassName.replace('$','.') );
//{{{ deleteToStartOfLine() method
// do we lose index info?
// value error shouldn't happen
// match was successful
"/*		If we want to support multiple commands in the command path we need to		change this to not throw the exception.	*/"
//{{{ setMultipleSelectionEnabled() method
/*strictJava*/
// check if the user entered a bracket
//{{{ deleteLine() method
// Set the static bsh This callback 
//{{{ deleteToEndOfLine() method
//{{{ toggleMultipleSelectionEnabled() method
//{{{ deleteWord() method
//{{{ toUpperCase() method
//{{{ goToMarker() method
//{{{ getCachePath() method
//{{{ BrowserColorsOptionPane constructor
// The new length is <= the old one.
// try each one that matched
// toggle marker on caret line
// import the unq name into parent
//{{{ goToParentFold() method
////////////////////////////////////////////////////////////////////// // Utility routines. //////////////////////////////////////////////////////////////////////
// Generate the type for our class
//{{{ toLowerCase() method
//{{{ selectFold() method
//bcm.doneDefiningClass( fqClassName );
//{{{ showWordCountDialog() method
// if debug, write out the class file to debugClasses directory
//{{{ setRightClickPopupEnabled() method
//{{{ insertTabAndIndent() method
//{{{ Right click popup
//{{{ setSelectionStart() method
//{{{ View constructor
//{{{ removeLeftOfScrollBar() method
"/*				Try to squeltch the native code stack trace if the exception				was caused by a reflective call back into the bsh interpreter				(e.g. eval() or source()			*/"
//{{{ removeEntry() method
/*bubble up if allowed*/
// Start with a little cheat.  Most of // the time, the white space will fall // within the current read buffer; if // not, then fall through.
// Evaluate any inner class class definitions in the block  // effectively recursively call this method for contained classes first
// this does the "trick" to eliminate blank space at the end
//{{{ getFocusCycleRoot() method
"/*		Generate a branch of the constructor switch.  This method is called by		generateConstructorSwitch.		The code generated by this method assumes that the argument array is 		on the stack.	*/"
// OK, the cheat didn't work; start over // and do it by the book.
//{{{ getColorProperty() method
// left == default case
// XXX //e.printStackTrace();
//{{{ isOverwriteEnabled() method
// handled by RE
// true for the constant defined syntaxes
// If backups > 1, move old ~n~ files, create ~1~ file
// impl.
// Define syntaxes
/* delete a backup created using above method */
"/* Differs from RE_SYNTAX_POSIX_EXTENDED in that RE_CONTEXT_INVALID_OPS	 replaces RE_CONTEXT_INDEP_OPS and RE_NO_BK_REFS is added. */"
/* There is no official Perl spec, but here's a "best guess" */
// except for '{', apparently
// while more labels or blocks and haven't hit return control
//{{{ getSelectionStart() method
//{{{ activatePlugin() method
//{{{ swapMarkerAndCaret() method
/* private */
// if label is default or equals switchVal
// skip nodes until next label
//{{{ Property methods
// generate the default branch of switch
// eval it
// get the first label
// first label
// Evaluate the defined dimensions of the array
//{{{ addTopComponent() method
//}}} //{{{ Handle $
//{{{ getBufferSwitcher() method
// \d,\D,\w,\W,\s,\S
// Get the string of enumerated values // if necessary.
/*leave null*/
// Make a hash of the interface hashcodes in order to cache them
// fill in definedDimensions [] lengths
// classExists caches the tests for us
"/*					Note: do *not* change this to 					BshClassManager plainClassForName() or equivalent.					This class must not touch any other bsh classes.				*/"
// retControl.returnPoint is the Node of the return statement
////////////////////////////////////////////////////////////////////// // Error reporting. //////////////////////////////////////////////////////////////////////
// These are necessary to let us test synchronization from scripts
/*@bgen(jjtree) ArrayInitializer */
// Optimization: check if anchor + minimumLength > length
// a default hashCode()
// can't cast void to anything
// Create a new REMatch to hold results
// // Flags for reading literals. //
// The canonical file name is also absolute. // No need for getAbsolutePath() here...
//{{{ Activate plugins that must be activated at startup
//{{{ Run script specified with -run= parameter
// Open files, create the view and hide the splash screen.
"/*                If idealMatch fits targetMatch and this is the first match 				or targetMatch is more specific than the best match, make it 				the new best match.            */"
// TAB ESCAPE //  \t
// not sure if this is correct for OpenVMS.
//{{{ fileToClass() method
// XXX
"/*	End methods for interacting with Parser */"
// If not found and there are arguments to match - // Look for an overloaded assignable match // (First find the method, then find accessible version of it)
//{{{ removeTopComponent() method
//{{{ isRectangularSelectionEnabled() method
//dockMenu.addItem(new NSMenuItem().separatorItem()); //dockMenu.addItem(miMac);
// // Buffer for parsed character data. //
// // Buffer for parsed names. //
"/*					We get stuck in infinite loops here when unicode escapes					fail.  Must re-init the char stream reader 					(ASCII_UCodeESC_CharStream.java)				*/"
// find the java method
// buffers retain a reference to the fold handler in // question... and the easiest way to handle fold // handler unloading is this...
// while in list // Out of list, index is one past ']'
// default for plugins that don't specify this property (ie, // 4.1-style plugins) is to load them on startup
// number of child nodes 
// wrap the exception in a TargetException to propogate it up
// each JAR file listed in the plugin's jars property // needs to know that we need them
// // Maintain a count of errors. //
// this will be the current parse character (pattern[index])
// fixes the hang that can occur if we 'save as' to a // new filename which requires re-sorting
// notify clients with -wait
// Buffers
// Recent Buffers
// Recent Directories
//{{{ BufferMenu class
//{{{ ShowRecentDirMenuItem class
/*WIDE*/
// Arguments
/*paramNames*/
// Get back to caller namespace
// Need to scrape a value from the last line?
// this must be in reverse order so that modes from the user // catalog get checked first!
// XThis.this refers to the enclosing class instance
// finaly block
// unwrap the target error
// Found match, execute catch block
// Begin constructors
/*interp*/
//Interpreter.debug("No class manager namespace:" +this);
// we reuse the 'pp' vector to save time
// does the variable already exist?
// unwrap 
// Apply most specific signature matching
/*object*/
// Check the cache
// These do not change during evaluation
// On Windows and MacOS, path names are case insensitive
// number of times eval hit 'this.caller'
// End Cached result structures
"/* 			Some kind of field access?		*/"
// Allow getSuper() to through BlockNameSpace to the method's super
// Find target object or class identifier
// It's a class
// return null; ???
//{{{ isSupportedEncoding() method
//{{{ getSelectionEndLine() method
//{{{ getComponent() method
// // Begin methods which simply delegate to our parent (enclosing scope)  //
/* Pushes a node on to the stack. */
// Unwrap primitives
//{{{ select() method
/*|| returnType == null*/
// should check to disallow continue here?
//{{{ isMacOS() method
// we don't want duplicate entries // in the kill ring
/* can't happen? */
//{{{ BrowserCommandsMenu constructor
//{{{ BrowserHandler class
//String filename = filenameField.getText();
//{{{ VFSBrowser constructor
// unknown value??!!!
//{{{ delete() method
//{{{ BufferIORequest constructor
// only true if the file size is known
// Otherwise, we found a \n // that follows some other // character, hence we have // a Unix file
// This is i+1 to take the // trailing \n into account
//{{{ endCompoundEdit() method
// Chop trailing newline and/or ^Z (if any)
//{{{ readMarkers() method
// used in insert()
// buffer has been saved while we // were waiting.
//{{{ setLimit() method
/* nothing done between begin/end calls */
//{{{ getMergeEdit() method
// limitations...
//{{{ getFoldHandler() method
//{{{ moveGap() method
//{{{ CompletionList class
// Recursively adds our key listener to sub-components
// do nothing //}}}
// figure out what constitutes a word character and what // doesn't
//{{{ setText() method
//{{{ fireActionPerformed() method
//{{{ setSelectedColor() method
// remove empty category branches
// this might be a bit slow if __char__ occurs a lot
/* hasFocus */
//{{{ loadDockableWindows() method
//{{{ getCachedDockableActionFlags() method
//{{{ OpenAction class
/* nothing to do */
//{{{ GrabKeyDialog constructor
// eg, trying to bind C+e if C+e is a prefix
// Save settings to disk
// get rid of this dialog if necessary
//{{{ PaneNameRenderer class
//{{{ Encoding
//{{{ Tab size
/* on MacOS, A+ can be user input */
/* Log.log(Log.ERROR,this,"Using deprecated Toolkit.getFontList()"); */
//{{{ RotatedTextIcon constructor
//{{{ showDockable() method
//{{{ HistoryModel constructor
//{{{ BeanShellAction constructor
"/* don't show loading msg because we won't				   receive a propertyChanged */"
//{{{ Result class
// user asks to remove non-existent
//{{{ EnhancedCheckBoxMenuItem constructor
/* Fractional font metrics */
/* Caret color, caret blink, block caret */
/* Electric borders */
// Old API
//{{{ IconCellRenderer class
//{{{ StyleOptionPane constructor
//{{{ StyleEditor class
/* Text color */
/* Text font */
/* Marker highlight */
/* Current line highlight */
/* Edit mode */
/* Wrap */
/* Rect select */
/* Memory foreground color */
/* Middle mouse button click pastes % register */
/* Gutter mouse actions */
// checkbox
// proxy username
//{{{ createWindowTableScroller() method
//{{{ createWindowModel() method
//{{{ WindowCompare class
// initialize the jEdit branch of the options tree
/* Download mirror */
//{{{ DownloadMirrorsThread class
/* Update mirror list */
//{{{ AbbrevsOptionPane constructor
//{{{ SingleSelectionModel class
/* Ignore case when sorting */
/* Default directory */
/* Double-click close */
/* Look and feel */
/* Use jEdit colors in all text components */
/* Decorate dialogs with look and feel (JDK 1.4 only) */
//{{{ setFileFilter() method
/* Line separator */
//{{{ updateMultiStatus() method
// do nothing if clicked "foo (showing n occurrences in m files)"
//{{{ RemoveTreeNodeAction class
//{{{ ResultCellRenderer constructor
//{{{ ResultCellRenderer class
//{{{ setRegexp() method
//{{{ setAutoWrap() method
//{{{ setBeanShellReplace() method
//{{{ getSearchMatcher() method
/* Don't do this when playing a macro, cos it's annoying */
//{{{ updateMaxHorizontalScrollWidth() method
//{{{ _replace() method
// in case one of the above fails, we still want to // clear these flags.
//{{{ SearchDialog constructor
// buttons
//{{{ getElement() method
//{{{ BoyerMooreSearchMatcher constructor
//{{{ generateSuffixArray() method
//{{{ stringToToken() method
// ALL
//}}} //{{{ SPAN, EOL_SPAN
// Reset the timeout
//}}} //{{{ RULES
//{{{ PROPERTY
// only paint visible chunks
//{{{ Paint token background color if necessary
//{{{ offsetToX() method
//{{{ getPositions() method
//{{{ Position match hints
// FALL THROUGH TO DEFAULT CASE!!!
"/*		object is a non-null and non-void Primitive type	*/"
//{{{ getSetName() method
//{{{ getHighlightDigits() method
//{{{ getNoWordSep() method
//{{{ setCharWidth() method
//{{{ canMerge() method
//{{{ createChunk() method
//{{{ merge() method
//{{{ _notifyScreenLineChanges() method
//{{{ getCharWidth() method
//{{{ isStructureHighlightVisible() method
/* beyond last visible line */
/* equal to last visible line */
/* next in expanded range */
// scan backwards looking for the start
// Collapse the fold...
//{{{ fvmreset() method
// important: not lineMgr.getScreenLineCount()
//{{{ Debug code
//{{{ resize selections if necessary
"/* both have same visibility; just remove			 * anything in between. */"
/* shift */
/* update */
//{{{ updateBorder() method
//{{{ selectMatch() method
//{{{ getActionForEvent() method
// if buffer is loading, don't paint anything
//{{{ Highlight class
//{{{ setHighlightInterval() method
"/*	 * JComponent.setFont(Font) is overridden here to cache the baseline for	 * the font. This avoids having to get the font metrics during every	 * repaint.	 */"
//{{{ isMarkerHighlightEnabled() method
//{{{ Handle actions
//{{{ Paint line numbers
//{{{ Determine action
/* && e.getX() >= getWidth() - borderWidth * 2 */
//{{{ getStyles() method
//{{{ getCaretColor() method
// draw |_
//{{{ getWrapGuideColor() method
//{{{ setMultipleSelectionColor() method
//{{{ setLineHighlightEnabled() method
//{{{ setFractionalFontMetricsEnabled() method
//{{{ setEOLMarkersPainted() method
//{{{ getFontMetrics() method
//{{{ paintSelection() method
//{{{ PaintWrapGuide class
//{{{ setElectricScroll() method
// Skip lines beyond EOF
//{{{ setDragEnabled() method
//{{{ scrollUpPage() method
//{{{ setDragAndDropCallback() method
//{{{ Debugging code
//{{{ getVisibleLines() method
//{{{ setFirstLine() method
//{{{ addScrollListener() method
//{{{ scrollToCaret() method
//{{{ scrollTo() method
//{{{ xyToOffset() method
//{{{ invalidateLineRange() method
//{{{ isEditable() method
//{{{ selectNone() method
// Scan backwards, trying to find a bracket
//{{{ selectWord() method
//{{{ selectBlock() method
//{{{ invertSelection() method
//{{{ removeFromSelection() method
// no no no!!!! //selectNone(); //}}}
//{{{ blinkCaret() method
//{{{ getMagicCaretPosition() method
//{{{ setMagicCaretPosition() method
//{{{ addCaretListener() method
//{{{ goToNextLine() method
//{{{ goToPrevLine() method
//{{{ goToPrevPage() method
//{{{ goToBufferEnd() method
//{{{ deleteParagraph() method
// remove this when 4.1 plugin API is deprecated
//{{{ backspace() method
//{{{ setOverwriteEnabled() method
// otherwise a bunch of consecutive C+d's would be merged // into one edit
//{{{ setRectangularSelectionEnabled() method
//{{{ formatParagraph() method
//{{{ stopServer() method
//{{{ lineComment() method
//{{{ rangeComment() method
//{{{ indentSelectedLines() method
//{{{ AWT stuff
//{{{ getSelectedLines() method
//{{{ getSelectionStartLine() method
//{{{ setSelectionEnd() method
//{{{ getMarkPosition() method
//{{{ foldStructureChanged() method
//{{{ getMarkLine() method
//{{{ doWordWrap() method
// Fix bug #922951 Off-by-one error in Word Count
//{{{ fireCaretEvent() method
//{{{ showStructureStatusMessage() method
//{{{ Selection constructor
//{{{ doDoubleDrag() method
//{{{ getEnd() method
//{{{ Range constructor
//{{{ Rect class
// progress bar value change
//{{{ CharIndexedSegment constructor
//{{{ createPrintStream() method
//{{{ charAt() method
//{{{ _logException() method
//{{{ isValid() method
// do any queued AWT runnables
//{{{ fireStatusChanged() method
//{{{ removeProgressListener() method
//{{{ writeLock() method
//{{{ requestDone() method
//{{{ getPlugin(String, boolean) method
// Only show class decs in CLASSES
//{{{ removePluginJAR() method
//{{{ Action methods
//{{{ getActionSetForAction() method
//Selection[] selection = (Selection[])buffer.getProperty(Buffer.SELECTION);
// lazy instantiation
//{{{ removeActionSet() method
//{{{ addActionSet() method
//{{{ getModes() method
//{{{ Rect constructor
//{{{ AbstractOptionPane constructor
//{{{ getAction() method
//{{{ getActionSets() method
// binaryOperation can return Primitive or wrapper type 
//{{{ Load user catalog
//{{{ Load macros and run startup scripts, after plugins and settings are loaded
//{{{ Edit mode methods
//{{{ reloadModes() method
//{{{ getPort method
// 4.1 plugin
//{{{ addPluginJAR() method
//{{{ _getLineManager() method
//{{{ _finishCaretUpdate() method
//{{{ addPluginJARsFromDirectory() method
//{{{ finishCaretUpdate() method
//{{{ openTemporary() method
//{{{ commitTemporary() method
//{{{ advanceSplashProgress() method
//{{{ recalculateVisibleLines() method
//{{{ getParentDialog() method
//{{{ isRightButton() method
//{{{ fireScrollEvent() method
//{{{ getComponentParent() method
//{{{ Buffer constructor
//{{{ isAncestorOf() method
//{{{ isPopupTrigger() method
//{{{ isMiddleButton() method
//{{{ updateStructureHighlightWithDelay() method
// see finishCaretUpdate() & _finishCaretUpdate()
/* called by DisplayManager.BufferChangeHandler.transactionComplete() */
/* otherwise DisplayManager.BufferChangeHandler calls */
// JDiff, error list add stuff here
//{{{ doWordCount() method
// do nothing, user clicked 'Stop'
//{{{ insertTab() method
//{{{ createMultilineLabel() method
//{{{ requestFocus() method
//{{{ menuCanceled() method
//{{{ updateStructureHighlight() method
//{{{ getRectParams() method
// last character before wrap // length with tabs expanded
//{{{ TextAreaBorder class
//{{{ updateChunksUpTo() method
//{{{ getActionContext() method
//{{{ RingListModel class
//{{{ addWorkRequest() method
// get rid of embedded tabs not removed by trim()
// caretLine would have been incremented // since insertNewLineAt <= caretPos
//{{{ ScrollLayout class
// Parse '='
//{{{ recalculateLastPhysicalLine() method
//{{{ focusGained() method
//{{{ tallCaretDelete() method
// Note that the attribute has been // specified.
// > 16 bits, surrogate needed
// Internal entity.
//{{{ MutableCaretEvent class
// XXX: getMarkPosition() deprecated!
//{{{ hideSplashScreen() method
//{{{ getNotLoadedPluginJARs() method
//{{{ CaretBlinker class
//{{{ setExtendedState() method
//{{{ centerOnScreen() method
//{{{ adjustmentValueChanged() method
//{{{ getDot() method
//{{{ focusLost() method
// just scroll to the dragged location
// so that Home <mouse click> Home is not the same // as pressing Home twice in a row
//{{{ loadStyles() method
//{{{ getBelowPosition() method
//{{{ getCachedServices() method
// Ignore empty lines
//{{{ paste() method
// Find the highest Untitled-n file
//{{{ doDoubleClick() method
// so that shift-click-drag works
//{{{ doSingleDrag() method
//{{{ doTripleDrag() method
// If we get to here, there must be // an InputStream available.
//{{{ getLineSubregionCount() method
// so that quick copy works
//{{{ xToSubregionOffset() method
//{{{ ChunkCache constructor
"/*			Treat lhs and rhs as arbitrary objects and do the operation.			(including NULL and VOID represented by their Primitive types)		*/"
//{{{ subregionOffsetToX() method
//{{{ windowOpened() method
//{{{ invalidateChunksFrom() method
//return -1;
//{{{ ComponentHandler class
//{{{ getPluginJARs() method
//{{{ Loading, saving window geometry
// we do this here instead of adding buffers to the bus.
//{{{ componentMoved() method
//{{{ invalidateChunksFromPhys() method
"//EditBus.send(new BufferUpdate(Buffer.this, //	view,BufferUpdate.MARKERS_CHANGED));"
// Make sure the window is displayed in visible region
//{{{ getMaxHorizontalScrollWidth() method
//{{{ loadGeometry() method
//{{{ invalidateAll() method
// Find the screen line containing this offset
//{{{ adjustForScreenBounds() method
// line is invisible?
//{{{ scrollDown() method
//{{{ keyTyped() method
//{{{ parseStyle() method
//{{{ createWhiteSpace() method
//{{{ getSubregionStartOffset() method
//{{{ LogListModel class
//{{{ getLineInfosForPhysicalLine() method
//{{{ getSubregionEndOffset() method
//{{{ getAbovePosition() method
// if -1, the empty space at the end of the text area // when the buffer has less lines than are visible
// for the first line displayed, take its physical line to be // the text area's first physical line
// control-click in virtual space inserts // whitespace and moves caret
// otherwise, determine the next visible line
// find a valid line closest to the last screen line
"/* if the user changes the syntax token at the				 * end of a line, need to do a full repaint. */"
//{{{ scrollUp() method
// unless this is the first time, increment // the line number
"/* We only cache entire physical lines at once;				 * don't want to split a physical line into				 * screen lines and only have some valid. */"
// empty space
// if the line has no text, out.size() == 0
// get another line of chunks
// chunk the line.
//{{{ globToRE() method
//{{{ escapesToChars() method
//{{{ charsToEscapes() method
//{{{ insertFile() method
// this returns false if initial sanity // checks (if the file is a directory, etc) // fail
//{{{ checkFileStatus() method
// null object ref is not instance of any type
// otherwise, the number of subregions
//{{{ LineInfo class
//{{{ lineToChunkList() method
//{{{ getStartLine() method
//{{{ getStart() method
//{{{ Range class
//{{{ Insert the lines into the buffer
//{{{ parseColor() method
//{{{ loadPopupMenu() method
//{{{ Canned dialog boxes
//{{{ Move the caret down a line
//{{{ Colors and styles
//{{{ getStartColumn() method
//{{{ showVFSFileDialog() method
//{{{ getEndColumn() method
//{{{ autosave() method
//{{{ saveAs() method
//{{{ prettifyMenuLabel() method
"/* Runtime runtime = Runtime.getRuntime();		int freeMemory = (int)(runtime.freeMemory() / 1024);		int totalMemory = (int)(runtime.totalMemory() / 1024);		int usedMemory = (totalMemory - freeMemory);		Log.log(Log.DEBUG,this,""Java heap: "" + usedMemory + ""Kb / ""			+ totalMemory + ""Kb, "" + (usedMemory * 100 / totalMemory)			+ ""%""); */"
//{{{ inputProperty() method
// wait for more requests
//{{{ loadToolBar() method
//{{{ paintScreenLineRange() method
// notify a running waitForRequests() method
// files[] should have length 1, since the dialog type is // SAVE_DIALOG
// Once save is complete, do a few other things
//{{{ Some predefined icons
//{{{ message() method
//{{{ confirm() method
//{{{ input() method
// Log some stuff
//{{{ getLogListModel() method
//{{{ setLogWriter() method
//{{{ closeStream() method
//{{{ flushStream() method
//{{{ Icon methods
//{{{ _log() method
/* not really needed since threads don't start until after */
//{{{ handleEditPaneUpdate() method
// so that jEdit doesn't exit with no views open automatically //setDaemon(true);
//{{{ loadIcon() method
//{{{ loadMenuBar() method
//{{{ Menus, tool bars
// status message changed, operation started, operation ends, ...
//{{{ getEditorIcon() method
// check if there is a cached version first
//{{{ log() method
// get the icon
//{{{ try to merge with an existing menu first
// Same thread.
//{{{ getThread() method
//{{{ move() method
//{{{ Add to AWT queue...
//{{{ getThreadCount() method
// no background mode, and reusing existing view
//{{{ allowWrite() method
// Roll back state.
//{{{ fireProgressChanged() method
//{{{ readLock() method
//{{{ queueAWTRunner() method
//{{{ writeUnlock() method
//}}} //{{{ Add to work thread queue...
// AWT thread magic
// Request queue
//{{{ RunRequestsInAWTThread class
"//			Log.log(Log.DEBUG,this,""AWT runner queued"");"
//{{{ getNextAWTRequest() method
//{{{ SegmentBuffer constructor
//{{{ setFontProperty() method
// changes IFNULL and IFNONNULL to opcodes 218 and 219 (inclusive)
"/* Some characters that we like to use in action names		 * ('.', '-') are not allowed in BeanShell identifiers. */"
//{{{ setDoubleProperty() method
// Write in progress.
//{{{ isWriteLocked() method
//{{{ claimWriteLock() method
// file does not begin with UTF-8-Y // signature. reset stream, read as // UTF-8.
// changes IFEQ ... JSR to opcodes 202 to 217 (inclusive)
//{{{ IntegerArray constructor
//{{{ getArray() method
// BIPUSH or NEWARRAY
// ------------------------------------------------------------------------- // Special instructions // -------------------------------------------------------------------------
// ------------------------------------------------------------------------- // Debug information // -------------------------------------------------------------------------
//{{{ get() method
// -------------------------------------------------------------------------- // Constructors // --------------------------------------------------------------------------
// updates maxLocals
//{{{ getLeadingWhiteSpace() method
//case ARRAY: //case OBJECT:
//case 'L':
// -------------------------------------------------------------------------- // Accessors // --------------------------------------------------------------------------
// updates current and max stack sizes
// -------------------------------------------------------------------------- // Corresponding size and opcodes // --------------------------------------------------------------------------
//{{{ updateGutterBorders() method
// \t handled above
/* eg, foo<C+b>, will insert foobar, */
//{{{ compareVersions() method
// updates max locals
//{{{ compareStrings() method
// xLOAD or xSTORE
// no stack change, but end of current block (no successor)
/*ISTORE_0*/
// if opcode == ATHROW or xRETURN, ends current block (no successor)
/*ILOAD_0*/
//{{{ runMacro() method
// Remove '.bsh'
//{{{ BeanShellHandler class
//{{{ BeanShellHandler constructor
//{{{ createMacro() method
// updates current and max stack sizes only if opcode == NEWARRAY // (stack size variation = 0 for BIPUSH or SIPUSH)
//{{{ setColorProperty() method
// pushes the first block onto the stack of blocks to be visited
//{{{ addMacro() method
//{{{ readUnlock() method
//{{{ Handler constructor
//{{{ _preprocessKeyEvent() method
//{{{ isFocusTraversable() method
//{{{ handleClient() method
//{{{ flushInput() method
//{{{ getLabel() method
//{{{ Handler class
// setting the message to 'null' causes the status bar to // check if a recording is in progress
//{{{ getPlugins() method
//{{{ getSource() method
//{{{ Getters/setter methods for various buffer meta-data
//{{{ getLastModified() method
//{{{ getVFS() method
//{{{ addProgressListener() method
"//				Log.log(Log.DEBUG,this,""AWT immediate: "" + run);"
//{{{ WorkThreadPool constructor
//{{{ getRules() method
//{{{ getRuleCount() method
//{{{ addSeparator() method
//{{{ setTerminateChar() method
//{{{ Recorder class
//{{{ Recorder constructor
//{{{ setFirstInvalidLineContext() method
//{{{ CaretHandler class
//{{{ getSelectionEnd() method
//{{{ isLeaf() method
"/*				Found the full name in imported classes.			*/"
//{{{ getAbbrev() method
// UCS-2 without a BOM must begin with "<?XML" // 0x00 0x3c 0x00 0x3f: UCS-2, big-endian, no byte-order mark
//{{{ isBuiltIn() method
//{{{ _closeBuffer() method
"/* I already wrote a comment expaining this in			 * Macro.invoke(). */"
//{{{ stopRecording() method
//{{{ loadMacros() method
//{{{ clearRegister() method
//{{{ recordTemporaryMacro() method
//{{{ getRegisters() method
//{{{ getEndLine() method
//{{{ saveRegisters() method
//{{{ loadRegisters() method
//{{{ Register interface
//{{{ ClipboardRegister class
//{{{ doSingleClick() method
//{{{ Text methods
//{{{ macroNameToLabel() method
//{{{ getHandler() method
//{{{ AdjustHandler class
//{{{ getMark() method
//{{{ KillRingHandler class
//{{{ stringsEqual() method
//{{{ setSize() method
//{{{ objectsEqual() method
//{{{ startDragAndDrop() method // calls dndCallback via reflection
// This is the new, canonical path
//{{{ insideSelection() method
// remove trailing \n
//{{{ updateScrollBars() method
//{{{ StringRegister class
//{{{ RegistersHandler class
//{{{ isCaretVisible() method
//{{{ Text editing
//{{{ getAttributes() method
// If we read a \r and // lastWasCR is also true, // it is probably a Mac file // (\r\r in stream)
//{{{ Macro constructor
//{{{ getRightClickPopup() method
//{{{ getSymlinkPath() method
//{{{ setRightClickPopup() method
//{{{ joinLines() method
//{{{ registerHandler() method
// Was the previous read character a \r? // If we read a \n and this is true, we assume // we have a DOS/Windows file
//{{{ getMacroHierarchy() method
//{{{ isRightClickPopupEnabled() method
//{{{ getMacroActionSet() method
//{{{ Macro class
//{{{ getMacro() method
//{{{ getHandlers() method
//{{{ allowRead() method
//{{{ Request class
//{{{ isVMS() method
//{{{ isMacOSLF() method
// Determine whether we are dealing // with a one-, two-, three-, or four- // byte sequence.
//{{{ User input
/* we guess an initial size for the array */
// A \r was read, hence a MacOS file
//{{{ narrowToSelection() method
//{{{ setEntry() method
//{{{ isLoaded() method
//{{{ isPerformingIO() method
//{{{ isNewFile() method
//{{{ setNewFile() method
//{{{ classToFile() method
//{{{ isUntitled() method
//{{{ Folding
// only executed if above loop falls // through, ie there is no handler for // this file
//{{{ goToMatchingBracket() method
//{{{ unref() method
//{{{ PosTopHalf constructor
//{{{ PosBottomHalf class
//{{{ goToBufferStart() method
// create a temporary (synthetic) prefix // KeyBinding, that won't be saved
//cons.insets = new Insets(1,0,1,0);
//{{{ goToEndOfWhiteSpace() method
// save dockable window geometry, and close 'em
//{{{ revalidate() method
//{{{ goToLastVisibleLine() method
//{{{ showRunScriptDialog() method
//{{{ PerspectiveHandler class
//{{{ goToNextMarker() method
//{{{ getElementIndex() method
// if caret is inside leading whitespace, indent.
// backgrounded
// copy text after gap
//{{{ PosTopHalf class
//{{{ setPerspectiveDirty() method
//{{{ loadPerspective() method
//{{{ isPerspectiveDirty() method
//{{{ setPosition() method
//{{{ Some constants
//{{{ smartHome() method
//{{{ hasScreenMenuBar
//{{{ updateBufferStatus() method
// see above
// remove it so editor can continue // functioning
//{{{ ThreadProgress class
//{{{ updateCaption() method
//{{{ getWordToComplete() method
//{{{ getHistory() method
/* not a class */
//{{{ getSubregionOfOffset() method
// Reset count
// Number of lines read. Every 100 lines, we update the // progress bar
// end JcmdProcess.java
//{{{ addStructureMatcher() method
// Look for line endings.
/* Get full command line */
//{{{ Split the text into lines
// do nothing, who cares
//{{{ setFirstInvalidFoldLevel() method
//{{{ needFullRepaint() method
//{{{ overlaps() method
//{{{ isJava14() method
//{{{ isJava15() method
// fix the bug where the horiz. // scroll bar was not updated // after creating a new file.
// Note that we rely on the fact that when a physical line is // invalidated, all screen lines/subregions of that line are // invalidated as well. See below comment for code that tries // to uphold this assumption.
"/* If this line has become longer or shorter				 * (in which case the new physical line number				 * is different from the cached one) we need to:				 * - continue updating past the last line				 * - advise the text area to repaint				 * On the other hand, if the line wraps beyond				 * lastScreenLine, we need to keep updating the				 * chunk list to ensure proper alignment of				 * invalidation flags (see start of method) */"
//{{{ getLineInfo() method
//{{{ loadClass() method
// zero it here so that BufferTabs doesn't have any problems
// middle mouse button drag inserts selection // at caret position
// only wrap if we're at the end of a line, or the rest of the // line text is whitespace
//{{{ doTripleClick() method
//{{{ MutableCaretEvent constructor
//{{{ shiftTallCaretLeft() method
"/* with drag and drop on, a mouse down in a selection does not		immediately deselect */"
// When the user is typing, etc, we don't want the caret // to blink
//{{{ _addToSelection() method
"/* only ever return true if space was pressed		 * with logicalLength == maxLineLen */"
// for debugging, make jEdit think its using a different // version of Java than it really is.
//{{{ isSelectionRectangular() method
//{{{ getSelectionStartEndOnLine() method
"/* on JDK 1.4, this is set to a method by Java14. The method must take	* these parameters:	* - a JEditTextArea	* - an InputEvent	* - a boolean (copy text or move, depending on modifier user held down)	*/"
//{{{ getLastEdit() method
//{{{ reloadAllBuffers() method
// save caret info. Buffer.load() will load it.
//{{{ _getBuffer() method
//{{{ handlePopupTrigger() method
//{{{ lineInStructureScope() method
// add a line marker at the end for proper offset manager // operation
//{{{ selectLine() method
//        currBlockNo++;
//{{{ goToPrevFold() method
//{{{ PosBottomHalf constructor
//{{{ Edit class
//{{{ insertEnterAndIndent() method
//{{{ selectParagraph() method
//{{{ tabsToSpaces() method
//{{{ setLastModified() method
//{{{ Offset conversion
//{{{ charsToEntities() method
//{{{ formatFileSize() method
//{{{ getLongestPrefix() method
// Offset of previous line, relative to // the start of the I/O buffer (NOT // relative to the start of the document)
//{{{ Painting
//{{{ Scroll horizontally
"/*         * Now the coding tables         */"
//{{{ getLineCount() method
"/*     * Knuth's increments seem to work better     * than Incerpi-Sedgewick here.  Possibly     * because the number of elems to sort is     * usually small, typically <= 20.     */"
//{{{ isDragInProgress() method
//{{{ getFirstPhysicalLine() method
//{{{ getHorizontalOffset() method
//{{{ OptionGroup constructor
// fix for the bug where key events in JTextComponents // inside views are also handled by the input handler
"/*         * Create the Huffman decoding tables         */"
"/*         * Receive the mapping table         */"
"/*         * A bad CRC is considered a fatal error.         */"
//{{{ setWrapGuidePainted() method
//{{{ JEditTextArea constructor
//{{{ isCaretBlinkEnabled() method
//{{{ Initialize some misc. stuff
//{{{ ViewConfig class
//{{{ TextAreaPainter constructor
// do not reset the stream and just treat it // like a normal UTF-8 file.
// walk up hierarchy, looking for an EditPane
//{{{ getStringWidth() method
// this constructor keys the hash table
// dockables
//{{{ unloadServices() method
//{{{ getBuffers() method
//{{{ getBufferCount() method
//{{{ getFirstBuffer() method
//{{{ loadServices() method
"/*         * not a char and not EOF         */"
//throw new CCoruptionError();
//{{{ updatePopupMenu() method
//{{{ registerService() method
//{{{ getEOLMarkersPainted() method
// Compare the input, character- // by character.
//{{{ Descriptor class
// Otherwise set a flag, // so that \n knows that last // was a \r
// Read the character
//{{{ getEOLMarkerColor() method
//{{{ setWrapGuideColor() method
//{{{ initKeyBindings() method
// unknown service - <clazz,name> not in table
//{{{ unregisterService() method
//{{{ getService() method
//{{{ getServiceNames() method
//{{{ getServiceTypes() method
// Now, on with the hunt...
// avoid re-running script if it gives // us null
// Quick check catches public fields include those in interfaces
//{{{ getSelectionColor() method
// Per Patrick Beard:
//{{{ getLastBuffer() method
//{{{ checkBufferStatus() method
// Not found, fall through to next class
//{{{ isDirty() method
//{{{ isReadOnly() method
// remember that this class doesn't exist for // future reference
//{{{ EditServer constructor
/*delcaredOnly*/
//{{{ getViewCount() method
/* I assume that there can be only one drag operation at the time */
// Skip certain actions this way
// Throw an EOFException if there // is nothing else to pop.
// draw |
//{{{ toTitleCase() method
//{{{ setMarkerHighlightColor() method
//{{{ setFoldColor() method
//{{{ getDoubleProperty() method
//{{{ getMarkerHighlightColor() method
//{{{ getLineNumberAlignment() method
//{{{ IOProgressMonitor constructor
//{{{ noRecord() method
// Push it onto the stack.
//{{{ getMarker() method
//{{{ BracketMatcher class
// Don't bother if there is no input.
//{{{ getMarkers() method
// See if we have any overflow.
//shadow size
//{{{ delayedUpdate() method
// Special situation -- we're taking // input from a character stream.
//{{{ isX11() method
//{{{ ScrollHandler class
//{{{ getMembers() method
//{{{ getMember() method
//{{{ getMemberCount() method
//{{{ setSort() method
//{{{ insertionSort() method
// Filter out all carriage returns // if we've seen any.
// Reset the position.
//{{{ Anchor class
//{{{ DisplayManager constructor
//{{{ fvmdump() method
/* Install location */
/* Backup filename prefix */
/* Backup suffix */
//{{{ hideLineRange() method
//{{{ fvmput2() method
//{{{ MirrorModel class
//{{{ Find fold start and fold end...
//{{{ RootElement constructor
// 3-byte sequence: zzzzyyyyyyxxxxxx = 1110zzzz 10yyyyyy 10xxxxxx
//{{{ setDirty() method
// Bump lastLine so // that the next line // doesn't erronously // pick up the \r
// Insert a line
//{{{ setReadOnly() method
/* start of next expanded range */
// How many characters have we read?
// Otherwise, the 8th bit may not be set in UTF-8
// fixes dirty flag not being reset on // save/insert/undo/redo/undo
// Check for the correct bits at the // start.
// Set up the variables for the current // element context.
// Take a character from the buffer // or from the actual input stream.
// Set up the DTD hash tables
// Return the significant bits.
// No errors; first line
// Set up the buffers for data and names
//{{{ isLineVisible() method
//{{{ Compare interface
//{{{ StringCompare class
//{{{ AbbrevsModel class
//{{{ getForegroundColor() method
//{{{ StringICaseCompare class
//{{{ removeFromBus() method
//{{{ getComponents() method
//{{{ send() method
// can't create new instances
//{{{ EditAction constructor
/* Mix files and directories */
//{{{ getMouseOverText() method
//{{{ View methods
//{{{ getChunkList() method
//{{{ isTemporary() method
//{{{ Thread safety
//{{{ Line offset methods
//{{{ setDefault() method
//{{{ getTerminateChar() method
// no need to lock since this just returns a value and that's it
//{{{ resolveImports() method
//{{{ setKeywords() method
//{{{ createEscapeRule() method
//{{{ getFirstView() method
//{{{ createMarkPreviousRule() method
//{{{ createMarkFollowingRule() method
//{{{ createRegexpSequenceRule() method
//}}} //{{{ SEQ_REGEXP
// // Element type currently in force. //
// // Hashtables for DTD information on elements, entities, and notations. //
//{{{ MenuItemCompare class
//{{{ xToOffset() method
//{{{ Plugin management methods
//{{{ ServiceListHandler constructor
// // Stack of entity names, to help detect recursion. //
// // Symbol table, for internalising names. //
// // Are we in a context where PEs are allowed? //
//{{{ checkDelegateEnd() method
// Some kind of 8-bit encoding with "<?XML" // 0x3c 0x3f 0x78 0x6d: UTF-8 or other 8-bit markup (read ENCODING)
//{{{ invalidateCachedScreenLineCounts() method
// mixed digit/alpha keyword, // and no regexp... don't // highlight as DIGIT
// Set type/creator codes for files
//}}} //{{{ EOL_SPAN
//{{{ osok() method
//{{{ showInFinder() method
//{{{ DefaultInputHandler constructor
// According to Slava this is better
//{{{ Text getters and setters
//{{{ openSelection() method
//{{{ ScriptRunner class
//{{{ markKeyword() method
//}}} //{{{ Handle start of rule
//{{{ EBMessage constructor
//{{{ initReplace() method
//{{{ getSkipIndex() method
// if loadAutosave is false, we loaded an // autosave file, so we set 'dirty' to true
//{{{ methods.Main parser loop
// note that we don't use setDirty(), // because a) that would send an unnecessary // message, b) it would also set the // AUTOSAVE_DIRTY flag, which will make // the autosave thread write out a // redundant autosave file
// initialize the skip array to all zeros
// leave the table cleanly-initialized for an empty pattern
/* otherwise it will be delivered later */
//{{{ MultiFileActionHandler class
// fields
// multifile settings
//{{{ regexpReplace() method
//SwingUtilities.invokeLater(new ScriptRunner(path)); //}}}
//{{{ getSettings() method
//{{{ Undo
//{{{ isTransactionInProgress() method
//{{{ Handlers
// so that Replace and Find continues from // the right location
// Map types to assignable forms, need to keep this fast...
// send some EditBus messages
// make sure end of match is visible
//{{{ beginCompoundEdit() method
//{{{ isToggle() method
//{{{ setReverseSearch() method
//{{{ handleOpenFile() method
//{{{ SearchBar constructor
//{{{ BufferClosedVisitor class
//{{{ removeBufferChangeListener() method
//{{{ handleFileCodes() method
//{{{ handleAbout() method
// This will happen when a new file is created
// Add type/creator to local buffer property list on open
//{{{ buildToVersion() method
// First 2 chars are the major version number
// Set type/creator on save
// Second 2 are the minor number
//{{{ showPopupMenu method
// Then the pre-release status
//{{{ insideCompoundEdit() method
//{{{ Buffer events
//{{{ searchStarted() method
// Finally the bug fix release
//{{{ getBufferChangeListeners() method
//{{{ DirectoryListSet constructor
// Can't use buffer.getName() here because // it is not changed until the save is // complete
//{{{ ViewOptionPane constructor
//{{{ applicationDockMenu() method
//{{{ handlePreferences() method
/* split VFSFileDialog horizontally */
//{{{ handleQuit() method
/* Show menu bar */
//{{{ 1. Check whether tools.jar is in the system classpath:
// Try to make the full imported name
//{{{ applicationOpenFiles() method
//{{{ NewViewAction class
//{{{ Services
//{{{ applicationShouldTerminate() method
//{{{ insertSelection() method
//{{{ MacroAction class
/* Delete downloaded files */
//{{{ RecentMenu class
//{{{ Dock Menu
//{{{ RecentDirMenu class
//{{{ MacrosMenu class
// eg user just closed a view and didn't focus another
//{{{ isMainThread() method
//{{{ isBackgroundMode() method
//{{{ showMemoryStatusDialog() method
//{{{ getJEditHome() method
//{{{ AutosaveBackupOptionPane constructor
//{{{ getSettingsDirectory() method
//{{{ getJARCacheDirectory() method
//{{{ backupSettingsFile() method
//{{{ new API
// forget the cached Position instance
//{{{ ShowBufferMenuItem class
//{{{ ShowDirAction class
/* unfocused border color */
// set proxy port
//{{{ exit() method
// un-iconify using JDK 1.3 API
/* Text drag and drop */
/* Clock */
//{{{ savePerspective() method
// Begin BeanShell Modification - serializable
// Close dialog, view.close() call need a view...
//{{{ getListCellRendererComponent() method
// Send EditorExitRequested
//{{{ ErrorListCellRenderer constructor
// Close all buffers
// If we are running in background mode and // reallyExit was not specified, then return here.
//{{{ MouseOptionPane constructor
/* Encoding */
// do *not* invoke special override for block... (see above)
// Do the for init
// End BeanShell Modification - serializable
// Save view properties here
// default impl
// Stop autosave timer
/* Multi select */
// put it back
//{{{ stringToSelection() method
/*method.block*/
// Send EditorExiting
// Save settings
// Close activity log stream
// Byebye...
// End method components
// Java Method
// Begin Method components
// Scripted method body
/*isNative*/
// is this a syncrhonized method?
//{{{ 2. Check whether it is in the jEdit user settings jars folder:
// jEdit will load it automatically
//{{{ 3. Check whether it is in jEdit's system jars folder:
//{{{ getEditServer() method
// only do this if we are the current edit pane
// Only do this after all I/O requests are complete
// avoid a race condition // see bug #834338
//{{{ prevBuffer() method
//{{{ nextBuffer() method
//{{{ recentBuffer() method
//{{{ StyleChoice class
//{{{ focusOnTextArea() method
//{{{ addMode() method
// Cardinality (number of args) mismatch
// Make the local namespace for the method invocation
//{{{ ErrorListDialog constructor
//{{{ ErrorEntry class
//{{{ loadMode() method
//{{{ pluginError() method
//{{{ setActiveView() method
// buffer link list
// Set typed variable
// makes openTemporary() thread-safe
// view link list
//{{{ usage() method
//{{{ version() method
//{{{ initMisc() method
// Push the new namespace on the call stack
// save the callstack including the called method, just for error mess
//{{{ DirectoryEntry class
//{{{ Wrapper class
// Push the existing status
// Add our protocols to java.net.URL's list
/* Anti-aliasing */
//{{{ setInterval() method
// No super method, try to invoke regular method // could be a superfluous "super." which is legal.
//{{{ getOffset() method
// Set the User-Agent string used by the java.net HTTP handler
////////////////////////////////////////////////////////////////////// // Local Variables. //////////////////////////////////////////////////////////////////////
//{{{ getIdealIndentForLine() method
/* Multiple selection color */
//{{{ 4. Check whether it is in <java.home>/lib:
//{{{ Load it, if not yet done:
//{{{ DirectoryLoadedAWTRequest class
//{{{ Flags
// check if web start
// use user.dir as last resort
//{{{ Forward search
// Add an EditBus component that will reload edit modes and // macros if they are changed from within the editor
//{{{ initSiteProperties() method
//{{{ initSystemProperties() method
/*recurse*/
//{{{ getCurrentIndentForLine() method
//{{{ initResources() method
//{{{ initPlugins() method
//{{{ initUserProperties() method
//{{{ ColorEntry class
// null value means no value
//{{{ isDOSDerived() method
//{{{ indentLine() method
// The token.image text of the name... never changes.
//{{{ EditPane constructor
// check for easy mistake
//{{{ getScreenBounds() method
// Set up the right-click popup menu
// Don't add duplicates
// use old property name for backwards compatibility
//{{{ loadBufferSwitcher() method
//{{{ isOS2() method
//{{{ indentLines() method
//{{{ isWindowsNT() method
//{{{ initPLAF() method
// Make adjustments for some OS's
// give all Swing components our colors
//defaults.put(prefix + ".inactiveForeground",foreground);
//{{{ isUnix() method
//{{{ runStartupScripts() method
//{{{ isWindows() method
//{{{ isWindows9x() method
//{{{ Get indent attributes of previous line
//{{{ Handle brackets
//{{{ Insert constructor
// Register for notification of classloader change
// null not supported?
//{{{ FirewallAuthenticator class
// might come in handy useful some time
//{{{ finishStartup() method
// Start I/O threads
// Start edit server
//{{{ getEncodings() method
//{{{ Get indent attributes for current line
//{{{ checkFileForLoad() method
//{{{ getRootElements() method
//{{{ putBooleanProperty() method
// read results...
//{{{ Handle regexps
// Additional bracket indent // For lining up closing // and opening brackets
//{{{ isFoldStart() method
//{{{ getLineParenWeight() method
//{{{ invalidateCachedFoldLevels() method
//{{{ Deep indenting
// If the previous line matches indentNextLine or indentNextLines, // add a level of indent
//{{{ setFoldHandler() method
//{{{ getParagraphElement() method
//{{{ isFoldEnd() method
//{{{ putProperty() method
//{{{ Position methods
//{{{ getMarkerStatusPrompt() method
// don't sort markers while buffer is being loaded
//{{{ Folding methods
//{{{ getCurrentIdentForLine() method
//{{{ getFoldAtLine() method
//{{{ Marker methods
//  first node will either be PrimitiveType or AmbiguousName
// backwards compatibility...
// bad postURL
/*type*/
// if we don't do this, the autosave file won't be // deleted after a save as
//{{{ Report any plugin errors
// this must be called before any EditBus messages are sent
//{{{ showPluginErrorDialog() method
//{{{ getMarkerAtLine() method
//{{{ addOrRemoveMarker() method
// return cached type if available
//{{{ getMarkerInRange() method
// to avoid slowdown with large files; only scan 10000 lines either way
//{{{ getFlag() method
//{{{ resetCachedProperties() method
// We only save markers to VFS's that support deletion. // Otherwise, we will accumilate stale marks files.
//{{{ removeAllMarkers() method
//{{{ setPath() method
// in one case not a single AWT class will // have been touched (splash screen off + // -nogui -nobackground switches on command // line)
//{{{ setFlag() method
//{{{ finishSaving() method
// Display
// Bsh scripted object
// Get catch block
//{{{ recoverAutosave() method
//{{{ findMatchingBracket() method
//{{{ Flag values
// Users should not normally see this.
//{{{ finishLoading() method
"/*    * Constructors of various flavors follow.    */"
// Create marker positions
//{{{ fireTransactionComplete() method
// this method might get called at startup
// put cbNameSpace on the top of the stack
// If we have an exception, find a catch
//{{{ checkFileForSave() method
// set a typed variable (directly in the block)
// handled target
// Note: no way to mutate the Throwable message, must maintain our own
// exception fell through, throw it upward...
// 1 because we've already 'seen' the first bracket
// Need to reset properties that were cached defaults, // since the defaults might have changed.
// check this.value
// first line for last 10 lines, make sure not to overlap // with the first 10
// See notes in getThis()
"/* if we save a file with the same name as one				 * that's already open, we presume that we can				 * close the existing file, since the user				 * would have confirmed the overwrite in the				 * 'save as' dialog box anyway */"
// Note: in this case parent must have a class manager.
// show this message when all I/O requests are // complete
//{{{ parseBufferLocalProperties() method
"/* if we saved over an already open file using				 * 'save a copy as', then reload the existing				 * buffer */"
// new message type introduced in 4.0pre4
//{{{ Update this buffer for the new path
//{{{ getPriorNonEmptyLine() method
//{{{ getListener() method
// End instance data
// don't do this on initial token marker
//{{{ Event firing methods
// didn't find a line that contains non-whitespace chars // so return index of prior whitespace line
// if user adds mode buffer-local property
//{{{ addBufferToList() method
//{{{ fireContentRemoved() method
// Prepare to execute the block. // We must create a new BlockNameSpace to hold the catch // parameter and swap it on the stack after initializing it.
/*strictjava*/
//{{{ fireFoldLevelChanged() method
//{{{ fireContentInserted() method
//{{{ fireFoldHandlerChanged() method
//{{{ firePreContentRemoved() method
// Begin instance data // Note: if we add something here we should reset it in the clear() method.
//{{{ findWordStart() method
//{{{ getTokenAtOffset() method
// Locate the variable definition if it exists.
// this must be after the stream is created or // we deadlock with SSHTools.
// primitives should have been wrapped
// No previous variable definition found here (or above if recurse)
// Nothing found
//}}} //{{{ Backward search
// corresponding character // false - backwards, true - forwards
//{{{ Go on to next line
//{{{ Go on to previous line
//{{{ the character under the cursor changes how we behave.
//{{{ Whitespace...
//{{{ gotoMarker() method
//{{{ Animator class
// Handle line number
// Handle marker
// If we are disconnected from root we need to handle the def imports
//{{{ AbbrevEditor constructor
// word char; keep going
// word char or symbol; stop
// whitespace; include in word if eating
"/*		Get variables declared in this namespace.	*/"
//checkVariableModifiers( name, modifiers );
// Change import precedence if we are a class body/instance // Get imported first.
//{{{ setAbbrev() method
/* DOS ^Z */
// turn the rankings into relative rankings, from 1 to 4
// align everything to paragraph's leading indent
//{{{ getIconForFile() method
// if we see whitespace, set flag.
/* all good */
//{{{ createEncodingMenu() method
//{{{ getStringCase() method
//{{{ format() method
//{{{ FavoritesMenuButton class
// Is it typed?
// this will disable most operations if // files of multiple types are selected
//{{{ FileCellRenderer constructor
//{{{ createMenuItem() method
//{{{ getEntryWidth() method
//{{{ addEdit() method
//{{{ ExpansionToggleBorder class
//{{{ ExpansionToggleBorder constructor
//{{{ VFSDirectoryEntryTable constructor
//{{{ isExpansionToggle() method
//{{{ selectFile() method
//{{{ getExpandedDirectories() method
//{{{ ActionSet constructor
//{{{ setLabel() method
//{{{ scrollRectToVisible() method
// avoid scrolling to the right
//{{{ addAction() method
// Add remaining stuff from buffer
// what to do?
//{{{ compareChars()
//{{{ expand() method
// m contains either BshMethod or Vector of BshMethod
// Vector
//{{{ ClearTypeSelect class
//{{{ resizeColumnsAppropriately() method
//{{{ BrowserIORequest constructor
//checkMethodModifiers( method );
//{{{ getMemberIndex() method
//{{{ Request types
//{{{ addExtendedAttributes() method
// Change import precedence if we are a class body/instance // Get import first.
//{{{ listDirectory() method
// allow user to change name // case
//{{{ getItem() method
//{{{ mkdir() method
//{{{ collapse() method
//{{{ VFSDirectoryEntryTableModel constructor
//{{{ setRoot() method
//{{{ ExtendedAttribute class
// we no longer have any // dirs using this extended // attribute
// this vfs has an extended attribute which is not // in the list ???
//{{{ showFilePopup() method
//{{{ clearExpansionState() method
//{{{ compareTo() method
//{{{ BrowserView constructor
// how deeply we are nested
//{{{ focusOnFileView() method
//{{{ directoryLoaded() method
//{{{ saveExpansionState() method
//{{{ updateFileView() method
//{{{ addToBus() method
//{{{ loadDirectory() method
//{{{ getBrowser() method
//{{{ getTable() method
//{{{ getParentDirectoryList() method
// we use SwingUtilities.invokeLater() // so that the action is executed before // the popup is hidden.
//{{{ WorkThreadListener class
// Only backup once per session
//{{{ Sort buffer list
//{{{ VFSFileNameField constructor
//{{{ doComplete() method
/* nothing */
//{{{ filesSelected() method
// fix for bug #765507 // we don't type complete in save dialog // boxes. Press TAB to do an explicit // complete
//{{{ VFSFileChooserDialog constructor
//{{{ doFileExistsWarning() method
//{{{ goToParent() method
//{{{ BackspaceAction class
/* browser.getBrowserView().getTable().addKeyListener(new KeyHandler()); */
// user pressed enter when the vfs table or // file name field has focus, with nothing // selected.
//{{{ filesActivated() method
// non-existent file
//{{{ setFilenameFilter() method
//{{{ removeViewFromList() method
//{{{ getIndentSize() method
//{{{ getTabSize() method
//{{{ maybeReload() method
//{{{ Input/output methods
//{{{ browseDirectory() method
//{{{ addViewToList() method
//{{{ GetFileTypeRequest class
// there was an error
//{{{ browseDirectoryInNewWindow() method
//{{{ Browser types
//{{{ getFilenameFilter() method
//{{{ setShowHiddenFiles() method
//{{{ locateFile() method
// used by FTP plugin to clear directory cache
//{{{ getShowHiddenFiles() method
//{{{ addBrowserListener() method
//{{{ Insert class
//{{{ rootDirectory() method
// path is the currently viewed directory in the browser
//{{{ getDirectoryField() method
//{{{ removeBrowserListener() method
//{{{ searchInDirectory() method
//{{{ removeAction() method
//{{{ getBrowserView() method
//{{{ endRequest() method
//{{{ removeAllActions() method
//{{{ updateFilenameFilter() method
//{{{ pathsEqual() method
// Try imported class
//{{{ PluginsMenuButton constructor
// if a file is selected in OPEN_DIALOG or // SAVE_DIALOG mode, just let the listener(s) // handle it
// Unqualified (simple, non-compound) name
//cacheCount++; // debug
//{{{ getActionCount() method
// Look for the loaded command 
// close if this buffer is currently // visible in the view.
// Unqualified name check imported
// Now try buffer.<property>
//{{{ initProxy() method
// For backwards compatibility
// First try the buffer-local properties
// Now try mode.<mode>.<property>
// Try returning it as an integer first
//{{{ createMenuBar() method
// dump stack trace for debugging purposes
//{{{ startRequest() method
//{{{ CommandsMenuButton class
//{{{ createToolBar() method
// if found as imported also cache it
//{{{ PluginsMenuButton class
//{{{ updateFilterEnabled() method
//{{{ CommandsMenuButton constructor
/* we're in a modal dialog */
